\PassOptionsToPackage{unicode=true}{hyperref} % options for packages loaded elsewhere
\PassOptionsToPackage{hyphens}{url}
%
\documentclass[]{article}
\usepackage{lmodern}
\usepackage{amssymb,amsmath}
\usepackage{ifxetex,ifluatex}
\usepackage{fixltx2e} % provides \textsubscript
\ifnum 0\ifxetex 1\fi\ifluatex 1\fi=0 % if pdftex
  \usepackage[T1]{fontenc}
  \usepackage[utf8]{inputenc}
  \usepackage{textcomp} % provides euro and other symbols
\else % if luatex or xelatex
  \usepackage{unicode-math}
  \defaultfontfeatures{Ligatures=TeX,Scale=MatchLowercase}
\fi
% use upquote if available, for straight quotes in verbatim environments
\IfFileExists{upquote.sty}{\usepackage{upquote}}{}
% use microtype if available
\IfFileExists{microtype.sty}{%
\usepackage[]{microtype}
\UseMicrotypeSet[protrusion]{basicmath} % disable protrusion for tt fonts
}{}
\IfFileExists{parskip.sty}{%
\usepackage{parskip}
}{% else
\setlength{\parindent}{0pt}
\setlength{\parskip}{6pt plus 2pt minus 1pt}
}
\usepackage{hyperref}
\hypersetup{
            pdftitle={Epigraphic cleaning models},
            pdfauthor={Petra Hermankova},
            pdfborder={0 0 0},
            breaklinks=true}
\urlstyle{same}  % don't use monospace font for urls
\usepackage[margin=1in]{geometry}
\usepackage{color}
\usepackage{fancyvrb}
\newcommand{\VerbBar}{|}
\newcommand{\VERB}{\Verb[commandchars=\\\{\}]}
\DefineVerbatimEnvironment{Highlighting}{Verbatim}{commandchars=\\\{\}}
% Add ',fontsize=\small' for more characters per line
\usepackage{framed}
\definecolor{shadecolor}{RGB}{248,248,248}
\newenvironment{Shaded}{\begin{snugshade}}{\end{snugshade}}
\newcommand{\AlertTok}[1]{\textcolor[rgb]{0.94,0.16,0.16}{#1}}
\newcommand{\AnnotationTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\newcommand{\AttributeTok}[1]{\textcolor[rgb]{0.77,0.63,0.00}{#1}}
\newcommand{\BaseNTok}[1]{\textcolor[rgb]{0.00,0.00,0.81}{#1}}
\newcommand{\BuiltInTok}[1]{#1}
\newcommand{\CharTok}[1]{\textcolor[rgb]{0.31,0.60,0.02}{#1}}
\newcommand{\CommentTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textit{#1}}}
\newcommand{\CommentVarTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\newcommand{\ConstantTok}[1]{\textcolor[rgb]{0.00,0.00,0.00}{#1}}
\newcommand{\ControlFlowTok}[1]{\textcolor[rgb]{0.13,0.29,0.53}{\textbf{#1}}}
\newcommand{\DataTypeTok}[1]{\textcolor[rgb]{0.13,0.29,0.53}{#1}}
\newcommand{\DecValTok}[1]{\textcolor[rgb]{0.00,0.00,0.81}{#1}}
\newcommand{\DocumentationTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\newcommand{\ErrorTok}[1]{\textcolor[rgb]{0.64,0.00,0.00}{\textbf{#1}}}
\newcommand{\ExtensionTok}[1]{#1}
\newcommand{\FloatTok}[1]{\textcolor[rgb]{0.00,0.00,0.81}{#1}}
\newcommand{\FunctionTok}[1]{\textcolor[rgb]{0.00,0.00,0.00}{#1}}
\newcommand{\ImportTok}[1]{#1}
\newcommand{\InformationTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\newcommand{\KeywordTok}[1]{\textcolor[rgb]{0.13,0.29,0.53}{\textbf{#1}}}
\newcommand{\NormalTok}[1]{#1}
\newcommand{\OperatorTok}[1]{\textcolor[rgb]{0.81,0.36,0.00}{\textbf{#1}}}
\newcommand{\OtherTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{#1}}
\newcommand{\PreprocessorTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textit{#1}}}
\newcommand{\RegionMarkerTok}[1]{#1}
\newcommand{\SpecialCharTok}[1]{\textcolor[rgb]{0.00,0.00,0.00}{#1}}
\newcommand{\SpecialStringTok}[1]{\textcolor[rgb]{0.31,0.60,0.02}{#1}}
\newcommand{\StringTok}[1]{\textcolor[rgb]{0.31,0.60,0.02}{#1}}
\newcommand{\VariableTok}[1]{\textcolor[rgb]{0.00,0.00,0.00}{#1}}
\newcommand{\VerbatimStringTok}[1]{\textcolor[rgb]{0.31,0.60,0.02}{#1}}
\newcommand{\WarningTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\usepackage{graphicx,grffile}
\makeatletter
\def\maxwidth{\ifdim\Gin@nat@width>\linewidth\linewidth\else\Gin@nat@width\fi}
\def\maxheight{\ifdim\Gin@nat@height>\textheight\textheight\else\Gin@nat@height\fi}
\makeatother
% Scale images if necessary, so that they will not overflow the page
% margins by default, and it is still possible to overwrite the defaults
% using explicit options in \includegraphics[width, height, ...]{}
\setkeys{Gin}{width=\maxwidth,height=\maxheight,keepaspectratio}
\setlength{\emergencystretch}{3em}  % prevent overfull lines
\providecommand{\tightlist}{%
  \setlength{\itemsep}{0pt}\setlength{\parskip}{0pt}}
\setcounter{secnumdepth}{0}
% Redefines (sub)paragraphs to behave more like sections
\ifx\paragraph\undefined\else
\let\oldparagraph\paragraph
\renewcommand{\paragraph}[1]{\oldparagraph{#1}\mbox{}}
\fi
\ifx\subparagraph\undefined\else
\let\oldsubparagraph\subparagraph
\renewcommand{\subparagraph}[1]{\oldsubparagraph{#1}\mbox{}}
\fi

% set default figure placement to htbp
\makeatletter
\def\fps@figure{htbp}
\makeatother


\title{Epigraphic cleaning models}
\author{Petra Hermankova}
\date{05/05/2020}

\begin{document}
\maketitle

\emph{Setting up the environment}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{knitr}\OperatorTok{::}\NormalTok{opts_chunk}\OperatorTok{$}\KeywordTok{set}\NormalTok{(}\DataTypeTok{echo =} \OtherTok{TRUE}\NormalTok{, }\DataTypeTok{error=}\OtherTok{TRUE}\NormalTok{)}
\NormalTok{devtools}\OperatorTok{::}\KeywordTok{install_github}\NormalTok{(}\StringTok{"mplex/cedhar"}\NormalTok{, }\DataTypeTok{subdir=}\StringTok{"pkg/sdam"}\NormalTok{)}
\CommentTok{#install.packages("rjson")}
\CommentTok{#install.packages("tidyverse")}
\CommentTok{#install.packages("getPass")}
\CommentTok{#install.packages("formatR")}

\KeywordTok{library}\NormalTok{(tidyverse)}
\KeywordTok{library}\NormalTok{(tidytext)}
\KeywordTok{library}\NormalTok{(dplyr)}
\KeywordTok{library}\NormalTok{(stringr)}
\KeywordTok{library}\NormalTok{(sdam)}
\KeywordTok{library}\NormalTok{(rjson)}
\KeywordTok{library}\NormalTok{(getPass)}
\KeywordTok{library}\NormalTok{(formatR)}
\end{Highlighting}
\end{Shaded}

\hypertarget{cleaning-epigraphic-text-for-tidy-text-mining}{%
\section{Cleaning epigraphic text for tidy text
mining}\label{cleaning-epigraphic-text-for-tidy-text-mining}}

Before we attempt the cleaning itself, we need to build the cleaning
blocks. Once the cleaning blocks are ready we can put them together
based on the desired outcome.

I have created three categores of building blocks, closely linked with
the methodological approach and the purpose of the cleaning process.

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  Conservative model category
\item
  Interpretive model category
\item
  Generic cleaning common for both previous categories
\end{enumerate}

\emph{Structure of a cleaning block:}

Each of the cleaning blocks have the same structure. Regular expressions
will be used to find and replace the searched term or pattern.

\texttt{regexpatternname\ \textless{}-\ c("regexpattern",\ "substitutionpattern")}

\hypertarget{building-blocks-for-the-conservative-model}{%
\subsection{1. Building blocks for the conservative
model}\label{building-blocks-for-the-conservative-model}}

\emph{The aim of this model is to produce a clean text that is as close
to the original text of an inscription as possible.}

The cleaned output of the conservative model will be as close to the
original text as possible. In most cases it should resemble a diplomatic
edition of epigraphic text with spaces between words, lowercase letters,
eliminated brackets and non-utf compliant symbols.

\hypertarget{expanded-abbreviations}{%
\subsubsection{1.1. Expanded
abbreviations}\label{expanded-abbreviations}}

\textbf{Aim:} All expanded abbreaviations that are in the parenthesis ()
will be eliminated from the clean text (substituted with "").

\begin{itemize}
\tightlist
\item
  Example before cleaning: \texttt{Œë·ΩêœÅ(·ΩµŒªŒπŒøœÇ)\ Œü·ΩêŒ±Œª·Ω≥œÅŒπŒøœÇ}
\item
  Example after cleaning: \texttt{Œë·ΩêœÅ\ Œü·ΩêŒ±Œª·Ω≥œÅŒπŒøœÇ}
\end{itemize}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{expanded_abbreviations_conservative <-}\StringTok{ }\KeywordTok{c}\NormalTok{(}\StringTok{"}\CharTok{\textbackslash{}\textbackslash{}}\StringTok{([^(]*}\CharTok{\textbackslash{}\textbackslash{}}\StringTok{)"}\NormalTok{, }\StringTok{""}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\hypertarget{suppresion-of-a-text-with-superscripts}{%
\subsubsection{1.2. Suppresion of a text with
superscripts}\label{suppresion-of-a-text-with-superscripts}}

\textbf{Aim:} All supressions that are in the curly braces \{\} followed
by one or more superscript digits will be eliminated from the clean text
(substituted with "").

\textbf{!!!} It is crutial that block
\texttt{3.\ Supression\ of\ a\ text} does not precede block
\texttt{2.\ Supression\ of\ a\ text\ with\ superscripts}, otherwise the
Regex pattern would not clean the text properly. This particular pattern
is common for the PHI dataset and may or may not appear in other
datasets.

\begin{itemize}
\tightlist
\item
  Example before cleaning:
  \texttt{·º±ŒµœÅŒµ·Ω∫œÇ\ ŒªŒ∑œÜŒ∏·Ω∂œÇ\ ·ΩëœÄ·Ω∞\ \{¬≤‚Å∂·ΩëœÄ·Ω∏\}¬≤‚Å∂\ œÑ·ø∂ŒΩ\ Œ≤Œ±œÅŒ≤·Ω±œÅœâŒΩ}
\item
  Example after cleaning: \texttt{·º±ŒµœÅŒµ·Ω∫œÇ\ ŒªŒ∑œÜŒ∏·Ω∂œÇ\ ·ΩëœÄ·Ω∞\ \ œÑ·ø∂ŒΩ\ Œ≤Œ±œÅŒ≤·Ω±œÅœâŒΩ}
\end{itemize}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{suppresion_superscripts_conservative <-}\StringTok{ }\KeywordTok{c}\NormalTok{(}\StringTok{"\{[^\}]*\}[‚Å∞¬π¬≤¬≥‚Å¥‚Åµ‚Å∂‚Å∑‚Å∏‚Åπ]+"}\NormalTok{, }\StringTok{""}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\hypertarget{suppresion-of-a-text}{%
\subsubsection{1.3. Suppresion of a text}\label{suppresion-of-a-text}}

\textbf{Aim:} All curly braces \{\} will be eliminated from the clean
text (substituted with ""), while the contents of the braces will remain
in the text.

\textbf{!!!} It is crutial that block
\texttt{3.\ Supression\ of\ a\ text} does not precede block
\texttt{2.\ Supression\ of\ a\ text\ with\ superscripts}, otherwise the
Regex pattern would not clean the text properly.

\begin{itemize}
\tightlist
\item
  Example before cleaning:
  \texttt{Œ£ŒµŒ≤Œ±œÉœÑŒø·ø¶\ œÖ·º±Œø·ø¶\ \{Œ∏Ã£ŒµŒø·ø¶\ Œ£ŒµŒ≤Œ±œÉœÑŒø·ø¶\}\ œÑ·ΩªœáŒ∑œÇ}
\item
  Example after cleaning: \texttt{Œ£ŒµŒ≤Œ±œÉœÑŒø·ø¶\ œÖ·º±Œø·ø¶\ Œ∏Ã£ŒµŒø·ø¶\ Œ£ŒµŒ≤Œ±œÉœÑŒø·ø¶\ œÑ·ΩªœáŒ∑œÇ}
\end{itemize}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{suppresion_conservative <-}\StringTok{ }\KeywordTok{c}\NormalTok{(}\StringTok{"[}\CharTok{\textbackslash{}\textbackslash{}}\StringTok{\{*}\CharTok{\textbackslash{}\textbackslash{}}\StringTok{\}]"}\NormalTok{, }\StringTok{""}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\hypertarget{restoration}{%
\subsubsection{1.4. Restoration}\label{restoration}}

\textbf{Aim:} All restoration that are in the square brackets {[}{]}
will be eliminated from the clean text (substituted with "").

\textbf{!!!} Beware that by eliminating the contents of the brackets you
may loose some context - use at your own discretion.

\begin{itemize}
\tightlist
\item
  Example before cleaning:
  \texttt{{[}Œù{]}Œ±ŒΩŒ±\ ·ºùŒªŒªŒ∑ŒΩŒøÃ£{[}œÇ{]}\ Œ∏œÖŒ≥·Ω±œÑŒ∑œÅ\ Œ∫Œ±·Ω∂\ ·º°\ ·ºëœÑ·Ω≥œÅŒ±\ {[}Œ≥œÖŒΩ·Ω¥{]}}
\item
  Example after cleaning: \texttt{Œ±ŒΩŒ±\ ·ºùŒªŒªŒ∑ŒΩŒø\ Œ∏œÖŒ≥·Ω±œÑŒ∑œÅ\ Œ∫Œ±·Ω∂\ ·º°\ ·ºëœÑ·Ω≥œÅŒ±}
\end{itemize}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{restoration_conservative <-}\StringTok{ }\KeywordTok{c}\NormalTok{(}\StringTok{"}\CharTok{\textbackslash{}\textbackslash{}}\StringTok{[[^[]*}\CharTok{\textbackslash{}\textbackslash{}}\StringTok{]"}\NormalTok{, }\StringTok{""}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\hypertarget{substitution}{%
\subsubsection{1.5. Substitution}\label{substitution}}

\textbf{Aim:} All substitutions that are in the angular brackets
\textless{}\textgreater{} will be eliminated from the clean text
(substituted with "").

\textbf{!!!} Beware that by eliminating the contents of the brackets you
may loose some context - use at your own discretion.

\begin{itemize}
\tightlist
\item
  Example before cleaning:
  \texttt{Œ∫œâœÅŒø\textless{}ŒΩ\ ·ºà\textgreater{}ŒΩœÑŒπ·Ωπœá\textless{}ŒøœÖ\textgreater{}\ ·º°\ œÄŒ±œÑœÅ·Ω∂œÇ\ œÑŒµŒπŒº·øÜ\textless{}œÇ\textgreater{}}
\item
  Example after cleaning: \texttt{Œ∫œâœÅŒø\ ŒΩœÑŒπ·Ωπœá\ ·º°\ œÄŒ±œÑœÅ·Ω∂œÇ\ œÑŒµŒπŒº·øÜœÇ}
\end{itemize}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{substitution_conservative <-}\StringTok{ }\KeywordTok{c}\NormalTok{(}\StringTok{"}\CharTok{\textbackslash{}\textbackslash{}}\StringTok{<[^<]*}\CharTok{\textbackslash{}\textbackslash{}}\StringTok{>"}\NormalTok{, }\StringTok{""}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\hypertarget{substitution-in-edh-dataset}{%
\subsubsection{1.6. Substitution in EDH
dataset}\label{substitution-in-edh-dataset}}

\textbf{Aim:} All sustitutions following the pattern ``A=B'' will be
cleaned thw following way: B remain in the text and the equal sign and A
will be eliminated from the clean text.

\textbf{!!!} Beware that by eliminating the brackets you may loose some
information about the preservation of the text - use at your own
discretion. The \texttt{substitution\_edh\_interpretive} should be run
before \texttt{substitution\_interpretive} script, otherwise the Regex
pattern would not clean the text properly. The
\texttt{substitution\_interpretive} script will clean the angular
brackets in the next step.

\begin{itemize}
\tightlist
\item
  Example before cleaning:
  \texttt{pos\textless{}u=I\textgreater{}erunt\ bene\ merenti}
\item
  Example after cleaning:
  \texttt{pos\textless{}I\textgreater{}erunt\ bene\ merenti}
\end{itemize}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{substitution_edh_conservative <-}\StringTok{ }\KeywordTok{c}\NormalTok{(}\StringTok{"([Œ±-œâŒë-Œ©a-zA-Z])=([Œ±-œâŒë-Œ©a-zA-Z])"}\NormalTok{, }\StringTok{"}\CharTok{\textbackslash{}\textbackslash{}}\StringTok{2"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\hypertarget{building-blocks-for-the-interpretive-model}{%
\subsection{2. Building blocks for the interpretive
model}\label{building-blocks-for-the-interpretive-model}}

\emph{The aim of this model is to produce a clean text that is enriched
with editorial interpretations of the original text.}

The output of the interpretive model will produce an epigraphic text
with as many editorial suggestions, restorations, corrections, and
improvements as possible to provide as much possible contents of the
inscription as possible. The brackets and non-utf compliant symbols will
be eliminated.

\hypertarget{expanded-abbreviations-1}{%
\subsubsection{2.1. Expanded
abbreviations}\label{expanded-abbreviations-1}}

\textbf{Aim:} All parenthesis () will be eliminated from the clean text
(substituted with ""), while the contents of the parenthesis will remain
in the text.

\begin{itemize}
\tightlist
\item
  Example before cleaning: \texttt{Œë·ΩêœÅ(·ΩµŒªŒπŒøœÇ)\ Œü·ΩêŒ±Œª·Ω≥œÅŒπŒøœÇ}
\item
  Example after cleaning: \texttt{Œë·ΩêœÅ·ΩµŒªŒπŒøœÇ\ Œü·ΩêŒ±Œª·Ω≥œÅŒπŒøœÇ}
\end{itemize}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{expanded_abbreviations_interpretive <-}\StringTok{ }\KeywordTok{c}\NormalTok{(}\StringTok{"[}\CharTok{\textbackslash{}\textbackslash{}}\StringTok{(*}\CharTok{\textbackslash{}\textbackslash{}}\StringTok{)]"}\NormalTok{, }\StringTok{""}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\hypertarget{suppresion-of-a-text-with-superscripts-1}{%
\subsubsection{2.2. Suppresion of a text with
superscripts}\label{suppresion-of-a-text-with-superscripts-1}}

\textbf{Aim:} Contents found within curly braces \{\} followed by one or
more superscript digits will substitute the word immediately preceding
the curly braces, see example.

\textbf{!!!} It is crutial that block
\texttt{3.\ Supression\ of\ a\ text} does not precede block
\texttt{2.\ Supression\ of\ a\ text\ with\ superscripts}, otherwise the
Regex pattern would not clean the text properly. This particular pattern
is common for the PHI dataset and may or may not appear in other
datasets.

\begin{itemize}
\tightlist
\item
  Example before cleaning:
  \texttt{·º±ŒµœÅŒµ·Ω∫œÇ\ ŒªŒ∑œÜŒ∏·Ω∂œÇ\ ·ΩëœÄ·Ω∞\ \{¬≤‚Å∂·ΩëœÄ·Ω∏\}¬≤‚Å∂\ œÑ·ø∂ŒΩ\ Œ≤Œ±œÅŒ≤·Ω±œÅœâŒΩ}
\item
  Example after cleaning: \texttt{·º±ŒµœÅŒµ·Ω∫œÇ\ ŒªŒ∑œÜŒ∏·Ω∂œÇ\ ·ΩëœÄ·Ω∏\ œÑ·ø∂ŒΩ\ Œ≤Œ±œÅŒ≤·Ω±œÅœâŒΩ}
\end{itemize}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{suppresion_superscripts_interpretive <-}\StringTok{ }\KeywordTok{c}\NormalTok{(}\StringTok{" [^ ]+ }\CharTok{\textbackslash{}\textbackslash{}}\StringTok{\{([‚Å∞¬π¬≤¬≥‚Å¥‚Åµ‚Å∂‚Å∑‚Å∏‚Åπ]+)([^\}]+)}\CharTok{\textbackslash{}\textbackslash{}}\StringTok{\}}\CharTok{\textbackslash{}\textbackslash{}}\StringTok{1"}\NormalTok{, }\StringTok{" }\CharTok{\textbackslash{}\textbackslash{}}\StringTok{2"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\emph{Note:} the script will not work if there is no text preceeding the
curly braces. To eliminate the curly braces with superscripts and the
contents of the curly braces, use the
\texttt{suppresion\_superscripts\_conservative} script. However, it is
recommended to run the \texttt{suppresion\_superscripts\_conservative}
script after \texttt{suppresion\_superscripts\_interpretive} script,
otherwise the Regex pattern would not clean the text properly.

\hypertarget{suppresion-of-a-text-1}{%
\subsubsection{2.3. Suppresion of a text}\label{suppresion-of-a-text-1}}

\textbf{Aim:} All curly braces \{\} will be eliminated from the clean
text (substituted with ""), while the contents of the braces will remain
in the text.

\textbf{!!!} It is crutial that block
\texttt{3.\ Supression\ of\ a\ text} does not precede block
\texttt{2.\ Supression\ of\ a\ text\ with\ superscripts}, otherwise the
Regex pattern would not clean the text properly. Due to ambiguous use of
\{\} by editors of epigraphic corpora, the exact usage depends on the
specific dataset and the way the curly braces were used. If you wish to
keep the text within the brackets, use
\texttt{suppresion\_keep\_interpretive} script and if you wish to remove
the text in the brackets, use \texttt{suppresion\_remove\_interpretive}
script.

\begin{itemize}
\tightlist
\item
  Example before cleaning:
  \texttt{Œ∏Ã£ŒµŒø·ø¶\ Œ£ŒµŒ≤Œ±œÉœÑŒø·ø¶\ œÖ·º±Œø·ø¶\ \{Œ∏Ã£ŒµŒø·ø¶\ Œ£ŒµŒ≤Œ±œÉœÑŒø·ø¶\}\ œÑ·ΩªœáŒ∑œÇ}
\item
  Example after cleaning (keep text):
  \texttt{Œ∏Ã£ŒµŒø·ø¶\ Œ£ŒµŒ≤Œ±œÉœÑŒø·ø¶\ œÖ·º±Œø·ø¶\ Œ∏Ã£ŒµŒø·ø¶\ Œ£ŒµŒ≤Œ±œÉœÑŒø·ø¶\ œÑ·ΩªœáŒ∑œÇ}
\item
  Example after cleaning (remove text):
  \texttt{Œ∏Ã£ŒµŒø·ø¶\ Œ£ŒµŒ≤Œ±œÉœÑŒø·ø¶\ œÖ·º±Œø·ø¶\ \ œÑ·ΩªœáŒ∑œÇ}
\end{itemize}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{suppresion_keep_interpretive <-}\StringTok{ }\KeywordTok{c}\NormalTok{(}\StringTok{"[}\CharTok{\textbackslash{}\textbackslash{}}\StringTok{\{*}\CharTok{\textbackslash{}\textbackslash{}}\StringTok{\}]"}\NormalTok{, }\StringTok{""}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

OR

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{suppresion_remove_interpretive <-}\StringTok{ }\KeywordTok{c}\NormalTok{(}\StringTok{"\{[^\}]*\}"}\NormalTok{, }\StringTok{""}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\hypertarget{restoration-1}{%
\subsubsection{2.4. Restoration}\label{restoration-1}}

\textbf{Aim:} All square brackets {[}{]} will be eliminated from the
clean text (substituted with ""), while the contents of the brackets
will remain in the text.

\textbf{!!!} Beware that by eliminating the brackets you may loose some
information about the preservation of the text - use at your own
discretion.

\begin{itemize}
\tightlist
\item
  Example before cleaning:
  \texttt{{[}Œù{]}Œ±ŒΩŒ±\ ·ºùŒªŒªŒ∑ŒΩŒøÃ£{[}œÇ{]}\ Œ∏œÖŒ≥·Ω±œÑŒ∑œÅ\ Œ∫Œ±·Ω∂\ ·º°\ ·ºëœÑ·Ω≥œÅŒ±\ {[}Œ≥œÖŒΩ·Ω¥{]}}
\item
  Example after cleaning:
  \texttt{ŒùŒ±ŒΩŒ±\ ·ºùŒªŒªŒ∑ŒΩŒøÃ£œÇ\ Œ∏œÖŒ≥·Ω±œÑŒ∑œÅ\ Œ∫Œ±·Ω∂\ ·º°\ ·ºëœÑ·Ω≥œÅŒ±\ Œ≥œÖŒΩ·Ω¥}
\end{itemize}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{restoration_interpretive <-}\StringTok{ }\KeywordTok{c}\NormalTok{(}\StringTok{"[}\CharTok{\textbackslash{}\textbackslash{}}\StringTok{[*}\CharTok{\textbackslash{}\textbackslash{}}\StringTok{]]"}\NormalTok{, }\StringTok{""}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\hypertarget{substitution-1}{%
\subsubsection{2.5. Substitution}\label{substitution-1}}

\textbf{Aim:} All angular brackets \textless{}\textgreater{} will be
eliminated from the clean text (substituted with ""), while the contents
of the brackets will remain in the text.

\textbf{!!!} Beware that by eliminating the brackets you may loose some
information about the preservation of the text - use at your own
discretion.

\begin{itemize}
\tightlist
\item
  Example before cleaning:
  \texttt{Œ∫œâœÅŒø\textless{}ŒΩ\ ·ºà\textgreater{}ŒΩœÑŒπ·Ωπœá\textless{}ŒøœÖ\textgreater{}\ ·º°\ œÄŒ±œÑœÅ·Ω∂œÇ\ œÑŒµŒπŒº·øÜ\textless{}œÇ\textgreater{}}
\item
  Example after cleaning: \texttt{Œ∫œâœÅŒøŒΩ\ ·ºàŒΩœÑŒπ·ΩπœáŒøœÖ\ ·º°\ œÄŒ±œÑœÅ·Ω∂œÇ\ œÑŒµŒπŒº·øÜœÇ}
\end{itemize}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{substitution_interpretive <-}\StringTok{ }\KeywordTok{c}\NormalTok{(}\StringTok{"[}\CharTok{\textbackslash{}\textbackslash{}}\StringTok{<*}\CharTok{\textbackslash{}\textbackslash{}}\StringTok{>]"}\NormalTok{, }\StringTok{""}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\hypertarget{substitution-in-edh-dataset-1}{%
\subsubsection{2.6. Substitution in EDH
dataset}\label{substitution-in-edh-dataset-1}}

\textbf{Aim:} All sustitutions following the pattern ``A=B'' will be
cleaned thw following way: A remain in the text and the equal sign and B
will be eliminated from the clean text.

\textbf{!!!} Beware that by eliminating the brackets you may loose some
information about the preservation of the text - use at your own
discretion. The \texttt{substitution\_edh\_interpretive} should be run
before \texttt{substitution\_interpretive} script, otherwise the Regex
pattern would not clean the text properly. The
\texttt{substitution\_interpretive} script will clean the angular
brackets in the next step.

\begin{itemize}
\tightlist
\item
  Example before cleaning:
  \texttt{pos\textless{}u=I\textgreater{}erunt\ bene\ merenti}
\item
  Example after cleaning:
  \texttt{pos\textless{}u\textgreater{}erunt\ bene\ merenti}
\end{itemize}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{substitution_edh_interpretive <-}\StringTok{ }\KeywordTok{c}\NormalTok{(}\StringTok{"([Œ±-œâŒë-Œ©a-zA-Z])=([Œ±-œâŒë-Œ©a-zA-Z])"}\NormalTok{, }\StringTok{"}\CharTok{\textbackslash{}\textbackslash{}}\StringTok{1"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\hypertarget{the-generic-text-cleaning}{%
\subsection{3. The generic text
cleaning}\label{the-generic-text-cleaning}}

\emph{The aim of the generic cleaning is to strip the epigraphic text
any non-utf compliant symbols and characters that do not adhere to the
principles of a `tidy text' analysis.}

The final output of the cleaning depends on which of the individual
cleaning blocks will be in the cleaning script. Each individual block
represents one step of the cleaning process, and user can modify all the
steps to recah the intended outcome. All the cleaning steps are
dependent on the characteristics of the original dataset, therefore
familiarity with the original dataset prior the cleaning process is
recommended. Each dataset can have a different set of symbols and
characters to be cleaned, thus, the cleaning blocks should be adjusted
accordingly.

\hypertarget{lacuna-1}{%
\subsubsection{3.1. Lacuna 1}\label{lacuna-1}}

\textbf{Aim:} All square brackets {[}{]} containing one or more ``---''
will be eliminated from the clean text (substituted with "").

\textbf{!!!} The scipt \texttt{lacuna1} should be run before
\texttt{restoration\_conservative} and
\texttt{restoration\_interpretive} scripts, otherwise the Regex pattern
would not clean the text properly.

\begin{itemize}
\tightlist
\item
  Example before cleaning: \texttt{{[}‚Äî\ ‚Äî\ ‚Äî{]}Œ∑œÇ\ Œ∏Œµ·ø∑\ Œ¶Œø·Ω∑Œ≤·ø≥}
\item
  Example after cleaning: \texttt{Œ∑œÇ\ Œ∏Œµ·ø∑\ Œ¶Œø·Ω∑Œ≤·ø≥}
\end{itemize}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{lacuna1 <-}\StringTok{ }\KeywordTok{c}\NormalTok{(}\StringTok{"}\CharTok{\textbackslash{}\textbackslash{}}\StringTok{[[‚Äî ]+}\CharTok{\textbackslash{}\textbackslash{}}\StringTok{]"}\NormalTok{, }\StringTok{""}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\emph{Note:} If there is a text within the square bracket, e.g.
\texttt{œÄœÅŒø·ΩªœáŒøŒΩ{[}œÑŒøœÇ\ ‚Äî\ ‚Äî\ ‚Äî{]}}, script
\texttt{restoration\_interpretive} will eliminate the square brackets,
the script \texttt{interpunction\_symbols} will clean the ``---'' and
the script \texttt{multi\_whitespace} will eliminate the extra
whitespaces. Therefore the scripts
\texttt{restoration\_interpretive}(1),
\texttt{interpunction\_symbols}(2) and \texttt{multi\_whitespace}(3)
should be used in combination and in the indicated sequence.

\hypertarget{lacuna-2}{%
\subsubsection{3.2. Lacuna 2}\label{lacuna-2}}

\textbf{Aim:} All square brackets {[}{]} containing one or more ``.''
will be eliminated from the clean text (substituted with "").

\textbf{!!!} The scipt \texttt{lacuna1} should be run before
\texttt{restoration\_conservative} and
\texttt{restoration\_interpretive} scripts, otherwise the Regex pattern
would not clean the text properly.

\begin{itemize}
\tightlist
\item
  Example before cleaning: \texttt{{[}‚Ä§‚Ä§{]}œâ\ ŒîŒπ·Ω∂\ Œ∫Œ±·Ω∂\ ·º≠œÅ·æ≥}
\item
  Example after cleaning: \texttt{œâ\ ŒîŒπ·Ω∂\ Œ∫Œ±·Ω∂\ ·º≠œÅ·æ≥}
\end{itemize}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{lacuna2 <-}\StringTok{ }\KeywordTok{c}\NormalTok{(}\StringTok{"}\CharTok{\textbackslash{}\textbackslash{}}\StringTok{[[‚Ä§]+}\CharTok{\textbackslash{}\textbackslash{}}\StringTok{]"}\NormalTok{, }\StringTok{""}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\emph{Note:} If there is a text within the square bracket, e.g.
\texttt{œÄœÅŒø·ΩªœáŒøŒΩ{[}œÑŒøœÇ\ ‚Äî\ ‚Äî\ ‚Äî{]}}, script
\texttt{restoration\_interpretive} will eliminate the square brackets,
the script \texttt{interpunction\_symbols} will clean the ``---'' and
the script \texttt{multi\_whitespace} will eliminate the extra
whitespaces. Therefore the scripts
\texttt{restoration\_interpretive}(1),
\texttt{interpunction\_symbols}(2) and \texttt{multi\_whitespace}(3)
should be used in combination and in the indicated sequence.

\hypertarget{vacat}{%
\subsubsection{3.3. Vacat}\label{vacat}}

\textbf{Aim:} All instances of the following strings ``vacat, vac, vac.,
v.'' will be replaced by a space (substituted with " "). If there is any
extra whitespace, it will be cleaned by \texttt{multi\_whitespace}
script in the following steps.

\textbf{!!!} If your datasets contains latin inscriptions, you may want
to check whether the \texttt{vacat} script is not eliminitating more
words than anticipated, e.g.~words containing string ``vacat'' or
``vac''. If so, adjust the cleaning block accordingly, i.e.~remove
``vac'', or don't use it.

\begin{itemize}
\tightlist
\item
  Example before cleaning: \texttt{·º©œÅŒ±Œ∫ŒªŒµ·Ω∑Œ¥Œ±\ vacat\ œáŒ±·øñœÅŒµ.}
\item
  Example after cleaning: \texttt{·º©œÅŒ±Œ∫ŒªŒµ·Ω∑Œ¥Œ±\ \ \ \ œáŒ±·øñœÅŒµ.}
\end{itemize}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{vacat <-}\StringTok{ }\KeywordTok{c}\NormalTok{(}\StringTok{"(vacat|vac|vac}\CharTok{\textbackslash{}\textbackslash{}}\StringTok{.|v}\CharTok{\textbackslash{}\textbackslash{}}\StringTok{.)"}\NormalTok{, }\StringTok{" "}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\hypertarget{editorial-notes}{%
\subsubsection{3.4. Editorial notes}\label{editorial-notes}}

\textbf{Aim:} All instances of the editorial strings in parenthesis such
as (vel sim.) will be replaced by a space (substituted with " "). If
there is any extra whitespace, it will be cleaned by
\texttt{multi\_whitespace} script in the following steps.

\textbf{!!!} The \texttt{editorial\_notes} script should run before the
\texttt{expanded\_abbreviations\_conservative} and
\texttt{expanded\_abbreviations\_interpretive} scripts, otherwise the
Regex pattern would not clean the text properly.

\begin{itemize}
\tightlist
\item
  Example before cleaning: \texttt{·º≠œÅœâŒπ\ (vel\ sim.)\ ŒöŒ±ŒªŒªŒπœÉŒ∏·Ω≥ŒΩŒ∑œÇ}
\item
  Example after cleaning: ``·º≠œÅœâŒπ ŒöŒ±ŒªŒªŒπœÉŒ∏·Ω≥ŒΩŒ∑œÇ```
\end{itemize}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{editorial_notes <-}\KeywordTok{c}\NormalTok{(}\StringTok{"}\CharTok{\textbackslash{}\textbackslash{}}\StringTok{(vel sim.}\CharTok{\textbackslash{}\textbackslash{}}\StringTok{)"}\NormalTok{, }\StringTok{" "}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\hypertarget{new-line}{%
\subsubsection{3.5. New line}\label{new-line}}

\textbf{Aim:} All instances of in-line symbol for new line (\textbar{})
will be eliminated (substituted with "").

\begin{itemize}
\tightlist
\item
  Example before cleaning: \texttt{Œõ·Ω±ŒºœÄœÅŒ∑\ Œ§Ã£ŒµŒªŒµœÉ·ΩµŒΩŒøœÅ\textbar{}ŒøœÇ\ Œ≥œÖŒΩ·Ωµ.}
\item
  Example after cleaning: \texttt{Œõ·Ω±ŒºœÄœÅŒ∑\ Œ§Ã£ŒµŒªŒµœÉ·ΩµŒΩŒøœÅŒøœÇ\ Œ≥œÖŒΩ·Ωµ}
\end{itemize}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{new_line <-}\StringTok{ }\KeywordTok{c}\NormalTok{(}\StringTok{"[}\CharTok{\textbackslash{}\textbackslash{}}\StringTok{||}\CharTok{\textbackslash{}\textbackslash{}}\StringTok{/]"}\NormalTok{, }\StringTok{""}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\hypertarget{split-word-over-two-lines}{%
\subsubsection{3.6. Split word over two
lines}\label{split-word-over-two-lines}}

\textbf{Aim:} All instances of words split between two lines with a dash
(-) will be eliminated (substituted with "").

\begin{itemize}
\tightlist
\item
  Example before cleaning:
  \texttt{·ºÄœÅœáŒπŒµœÅ·Ω≥œâœÇ\ Œ∫Œ±·Ω∂\ Œµ·ΩêœÄŒøœÉŒπ·Ω±œÅ-\textbackslash{}nœáŒøœÖ\ ŒºŒ∑ŒΩ·Ω∏œÇ}
\item
  Example after cleaning: \texttt{·ºÄœÅœáŒπŒµœÅ·Ω≥œâœÇ\ Œ∫Œ±·Ω∂\ Œµ·ΩêœÄŒøœÉŒπ·Ω±œÅœáŒøœÖ\ ŒºŒ∑ŒΩ·Ω∏œÇ}
\end{itemize}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{split_word_multiline <-}\StringTok{ }\KeywordTok{c}\NormalTok{(}\StringTok{"-}\CharTok{\textbackslash{}\textbackslash{}}\StringTok{n"}\NormalTok{, }\StringTok{""}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\hypertarget{erasure-empty}{%
\subsubsection{3.7. Erasure empty}\label{erasure-empty}}

\textbf{Aim:} All instances of erased text („Äö---„Äõ) will be replaced by
a space (substituted with " "). If there is any extra whitespace, it
will be cleaned by \texttt{multi\_whitespace} script in the following
steps.

\begin{itemize}
\tightlist
\item
  Example before cleaning: \texttt{·ºàœÅœÑ·Ω≥ŒºŒπŒ¥Œπ\ „Äö‚Äî\ ‚Äî\ ‚Äî„Äõ\ ·ºêœÄŒ∑Œ∫·ΩπŒøŒπœÇ.}
\item
  Example after cleaning: \texttt{·ºàœÅœÑ·Ω≥ŒºŒπŒ¥Œπ\ \ ·ºêœÄŒ∑Œ∫·ΩπŒøŒπœÇ.}
\end{itemize}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{erasure_empty <-}\StringTok{ }\KeywordTok{c}\NormalTok{(}\StringTok{"„Äö[‚Äî ]+„Äõ"}\NormalTok{, }\StringTok{" "}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\hypertarget{erasure-with-new-text}{%
\subsubsection{3.8. Erasure with new text}\label{erasure-with-new-text}}

\textbf{Aim:} All instances of double brackets for erasures („Äö „Äõ) will
be eliminated (substituted with "") and the contents of the double
brackets will be preserved as part of the clean text.

\begin{itemize}
\tightlist
\item
  Example before cleaning:
  \texttt{·ºàŒº·ΩªŒΩœÑœâœÅ\ ŒùŒøœÖŒºŒ∑ŒΩ·Ω∑ŒøœÖ\ „ÄöœáŒ±·øñœÅŒµ„Äõ.\ Œ∫Œ±·Ω∂\ ·º°\ Œ≥œÖŒΩ·Ω¥\ Œ±·ΩêœÑŒø·ø¶}
\item
  Example after cleaning:
  \texttt{·ºàŒº·ΩªŒΩœÑœâœÅ\ ŒùŒøœÖŒºŒ∑ŒΩ·Ω∑ŒøœÖ\ œáŒ±·øñœÅŒµ.\ Œ∫Œ±·Ω∂\ ·º°\ Œ≥œÖŒΩ·Ω¥\ Œ±·ΩêœÑŒø·ø¶}
\end{itemize}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{erasure_new_text <-}\StringTok{ }\KeywordTok{c}\NormalTok{(}\StringTok{"[„Äö„Äõ]"}\NormalTok{, }\StringTok{""}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\hypertarget{dubious-dot-subscript}{%
\subsubsection{3.9. Dubious dot subscript}\label{dubious-dot-subscript}}

\textbf{Aim:} All instances of the dubious reading marked by the
subscrit dot (unicode 0323) will be eliminated (substituted with "").

\textbf{!!!} The \texttt{dubious\_dot\_subscript} script should happen
as first step of the cleaning, otherwise the letters might shift and the
Regex pattern would not clean the text properly.

\begin{itemize}
\tightlist
\item
  Example before cleaning: \texttt{·ºàÃ£œÄ·ΩπÃ£ŒªÃ£ŒªÃ£œâŒΩŒøœÇ}
\item
  Example after cleaning: \texttt{·ºàœÄ·ΩπŒªŒªœâŒΩŒøœÇ}
\end{itemize}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{dubious_dot_subscript <-}\StringTok{ }\KeywordTok{c}\NormalTok{(}\StringTok{"\textbackslash{}u\{0323\}"}\NormalTok{, }\StringTok{""}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\hypertarget{interpunction-symbols}{%
\subsubsection{3.10. Interpunction
symbols}\label{interpunction-symbols}}

\textbf{Aim:} All instances of listed interpunction symbols
(,.!----\#\%\^{}\&*/\textasciitilde{}:;) will be replaced by a space
(substituted with " "). If there is any extra whitespace, it will be
cleaned by \texttt{multi\_whitespace} script in the following steps.

\begin{itemize}
\tightlist
\item
  Example before cleaning: \texttt{Œ¶ŒπŒª·ΩµœÑŒ∑\ \#\ Œ∏Œµ·æ∑\ ŒúŒ±ŒªŒøœÜ·ΩπœÅ·ø≥} or
  \texttt{Œ∫Œµ·øñŒºŒ±Œπ\ œÄœÅ·ΩπŒºŒøŒπœÅŒøœÇ\ ·ºôœÅŒºŒøŒ≥·Ω≥ŒΩŒ∑œÇ\ œÑœÖŒºŒ≤ŒµœÖŒ∏Œµ·Ω∑œÇŒá\ /·ºÄŒ≥·ΩºŒΩ}
\item
  Example after cleaning: \texttt{Œ¶ŒπŒª·ΩµœÑŒ∑\ \ Œ∏Œµ·æ∑\ ŒúŒ±ŒªŒøœÜ·ΩπœÅ·ø≥} or
  \texttt{Œ∫Œµ·øñŒºŒ±Œπ\ œÄœÅ·ΩπŒºŒøŒπœÅŒøœÇ\ ·ºôœÅŒºŒøŒ≥·Ω≥ŒΩŒ∑œÇ\ œÑœÖŒºŒ≤ŒµœÖŒ∏Œµ·Ω∑œÇ\ \ \ ·ºÄŒ≥·ΩºŒΩ}
\end{itemize}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{interpunction_symbols <-}\StringTok{ }\KeywordTok{c}\NormalTok{(}\StringTok{"[,|}\CharTok{\textbackslash{}\textbackslash{}}\StringTok{.|‚Ä§|Œá|!|}\CharTok{\textbackslash{}\textbackslash{}}\StringTok{-|‚Äî|‚Äì|#|%|}\CharTok{\textbackslash{}\textbackslash{}}\StringTok{^|&|}\CharTok{\textbackslash{}\textbackslash{}}\StringTok{*|~|:|;|@]"}\NormalTok{, }\StringTok{" "}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\hypertarget{superscript-numbers}{%
\subsubsection{3.11. Superscript numbers}\label{superscript-numbers}}

\textbf{Aim:} All instances of superscripted numbers will be eliminated
(substituted with "").

\textbf{!!!} The \texttt{superscript\_numbers} should not be run before
the \texttt{suppresion\_superscripts\_conservative} or
\texttt{suppresion\_superscripts\_interpretive} script, otherwise the
Regex pattern would not clean the text properly.

\begin{itemize}
\tightlist
\item
  Example before cleaning:
  \texttt{Œë·ΩêœÅ(·ΩµŒªŒπŒøœÇ)\ ŒîŒπŒøŒΩ·ΩªœÉŒπŒøœÇ\ \#‚Åµ‚Å∂\ Œ≤Õ¥\ \#‚Åµ‚Å∂}
\item
  Example after cleaning: \texttt{Œë·ΩêœÅ(·ΩµŒªŒπŒøœÇ)\ ŒîŒπŒøŒΩ·ΩªœÉŒπŒøœÇ\ \#\ Œ≤Õ¥\ \#}
\end{itemize}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{superscript_numbers <-}\StringTok{ }\KeywordTok{c}\NormalTok{(}\StringTok{"[‚Å∞¬π¬≤¬≥‚Å¥‚Åµ‚Å∂‚Å∑‚Å∏‚Åπ]+"}\NormalTok{, }\StringTok{""}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\hypertarget{epigraphic-symbols}{%
\subsubsection{3.12. Epigraphic symbols}\label{epigraphic-symbols}}

\textbf{Aim:} All instances of the listed specialised epigraphic
symbols, such as the haedera (‚ù¶), will be eliminated (substituted with
"").

\begin{itemize}
\tightlist
\item
  Example before cleaning: \texttt{·ºÄŒ≥Œ±Œ∏·øÜŒπ\ ‚ù¶\ œÑ·ΩªœáŒ∑Œπ}
\item
  Example after cleaning: \texttt{·ºÄŒ≥Œ±Œ∏·øÜŒπ\ \ \ œÑ·ΩªœáŒ∑Œπ}
\end{itemize}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{epigraphic_symbols <-}\KeywordTok{c}\NormalTok{ (}\StringTok{"[‚ù¶|‚àô|êÜñ|‚èë|‚èì|‚èï]"}\NormalTok{, }\StringTok{""}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\hypertarget{uncertainty-symbols}{%
\subsubsection{3.13. Uncertainty symbols}\label{uncertainty-symbols}}

\textbf{Aim:} All instances of th elisted symbols marking uncertainty
(?) will be replaced by a space (substituted with " "). If there is any
extra whitespace, it will be cleaned by \texttt{multi\_whitespace}
script in the following steps.

\begin{itemize}
\tightlist
\item
  Example before cleaning: \texttt{œáŒ±·øñœÅŒµ?}
\item
  Example after cleaning: \texttt{œáŒ±·øñœÅŒµ}
\end{itemize}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{uncertainty_symbols <-}\KeywordTok{c}\NormalTok{ (}\StringTok{"[?]"}\NormalTok{, }\StringTok{" "}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\hypertarget{end-of-line}{%
\subsubsection{3.14. End of line}\label{end-of-line}}

\textbf{Aim:} All instances of end of line symbol (\n) will be replaced
by space (substituted with " ").

\begin{itemize}
\tightlist
\item
  Example before cleaning:
  \texttt{Œ∫Œ±·Ω∂\ ·ºÑœÅŒæŒ±ŒΩœÑŒ±\textbackslash{}nœÑŒø·ø¶\ Œ∫ŒøŒπŒΩŒø·ø¶}
\item
  Example after cleaning: \texttt{Œ∫Œ±·Ω∂\ ·ºÑœÅŒæŒ±ŒΩœÑŒ±\ œÑŒø·ø¶\ Œ∫ŒøŒπŒΩŒø·ø¶}
\end{itemize}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{end_line <-}\StringTok{ }\KeywordTok{c}\NormalTok{(}\StringTok{"}\CharTok{\textbackslash{}\textbackslash{}}\StringTok{n"}\NormalTok{, }\StringTok{" "}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\hypertarget{extra-blank-space}{%
\subsubsection{3.15. Extra blank space}\label{extra-blank-space}}

\textbf{Aim:} All instances of extra blank space (``‚ÄÉ‚ÄÉ'') will be
replaced by space (substituted with " ").

\begin{itemize}
\tightlist
\item
  Example before cleaning: \texttt{·ºÄŒ≥Œ±Œ∏·øÜŒπ‚ÄÉ‚ÄÉ\ œÑ·ΩªœáŒ∑Œπ.}
\item
  Example after cleaning: \texttt{·ºÄŒ≥Œ±Œ∏·øÜŒπ\ œÑ·ΩªœáŒ∑Œπ.}
\end{itemize}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{extra_blank <-}\StringTok{ }\KeywordTok{c}\NormalTok{(}\StringTok{"[‚ÄÉ]+"}\NormalTok{, }\StringTok{" "}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\hypertarget{multi-whitespace}{%
\subsubsection{3.16. Multi-whitespace}\label{multi-whitespace}}

\textbf{Aim:} All instances of more then one whitespace " " next to each
other will be eliminated (substituted with "").

\textbf{!!!} The \texttt{multi\_whitespace} should run as the second
last cleaning block to ensure all redundant white spaces are cleaned
from the text.

\begin{itemize}
\tightlist
\item
  Example before cleaning: \texttt{·º©œÅŒ±Œ∫ŒªŒµ·Ω∑Œ¥Œ±\ \ \ \ œáŒ±·øñœÅŒµ.}
\item
  Example after cleaning: \texttt{·º©œÅŒ±Œ∫ŒªŒµ·Ω∑Œ¥Œ±\ œáŒ±·øñœÅŒµ.}
\end{itemize}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{multi_whitespace <-}\StringTok{ }\KeywordTok{c}\NormalTok{(}\StringTok{"}\CharTok{\textbackslash{}\textbackslash{}}\StringTok{s+"}\NormalTok{, }\StringTok{" "}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\hypertarget{trailing-and-leading-whitespace}{%
\subsubsection{3.17. Trailing and leading
whitespace}\label{trailing-and-leading-whitespace}}

\textbf{Aim:} All instances of whitespace " " at the beginning and end
of the line will be eliminated (substituted with "").

\textbf{!!!} The \texttt{whitespace\_endline} should run as the last
cleaning block to ensure all redundant white spaces are cleaned from the
text.

\begin{itemize}
\tightlist
\item
  Example before cleaning: \texttt{œáŒ±·øñœÅŒµ}
\item
  Example after cleaning: \texttt{œáŒ±·øñœÅŒµ}
\end{itemize}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{whitespace_endline <-}\StringTok{ }\KeywordTok{c}\NormalTok{(}\StringTok{"(^}\CharTok{\textbackslash{}\textbackslash{}}\StringTok{s|}\CharTok{\textbackslash{}\textbackslash{}}\StringTok{s$)"}\NormalTok{, }\StringTok{""}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\hypertarget{editorial-comments-in-latin-alphabet}{%
\subsubsection{3.18. Editorial comments in Latin
alphabet}\label{editorial-comments-in-latin-alphabet}}

\textbf{Aim:} All instances of editorial comments in Latin alphabet that
are enclosed in curly braces \{\} with superscript numbers will be
eliminated (substituted with "").

\textbf{!!!} If your dataset contains Latin inscriptions, use this
script with caution. Verify first, that running the script it does not
eliminate any necessary information or text. This block has been
specifically designed for the interpretive cleaning of the PHI Greek
Inscription dataset and it should run before
\texttt{suppresion\_superscripts\_interpretive} and
\texttt{suppresion\_interpretive} scripts, otherwise the Regex pattern
would not clean the text properly.

\begin{itemize}
\tightlist
\item
  Example before cleaning:
  \texttt{·ºÄŒ≥Œ±Œ∏·øÜŒπ\ œÑ·ΩªœáŒ∑Œπ.\ \{¬≤in\ parte\ inferiore\ altera\ manu\ incisa\ est:\}¬≤\ ·ΩëœÄ·Ω≤œÅ\ œÑ·øÜœÇ\ œÑŒø·ø¶}
\item
  Example after cleaning: \texttt{·ºÄŒ≥Œ±Œ∏·øÜŒπ\ œÑ·ΩªœáŒ∑Œπ.\ ·ΩëœÄ·Ω≤œÅ\ œÑ·øÜœÇ\ œÑŒø·ø¶}
\end{itemize}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{editorial_comments_latin <-}\StringTok{ }\KeywordTok{c}\NormalTok{(}\StringTok{"}\CharTok{\textbackslash{}\textbackslash{}}\StringTok{\{([‚Å∞¬π¬≤¬≥‚Å¥‚Åµ‚Å∂‚Å∑‚Å∏‚Åπ]+)([a-zA-Z0-9][^\}]+)}\CharTok{\textbackslash{}\textbackslash{}}\StringTok{\}}\CharTok{\textbackslash{}\textbackslash{}}\StringTok{1"}\NormalTok{, }\StringTok{""}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\hypertarget{arabic-numerals}{%
\subsubsection{3.19. Arabic numerals}\label{arabic-numerals}}

\textbf{Aim:} All instances of arabic numerals (0-9) will be eliminated
(substituted with "").

\textbf{!!!} If your dataset contains arabic numerals that you would
like to keep, use this script with caution. Verify first, that running
the script it does not eliminate any necessary information or text. This
block has been specifically designed for the interpretive cleaning of
the PHI Greek Inscription dataset and it should run before
\texttt{multi\_whitespace} and \texttt{whitespace\_endline} scripts,
otherwise the Regex pattern would not clean the text properly.

\begin{itemize}
\tightlist
\item
  Example before cleaning: \texttt{·º°\ Œ≥œÖŒΩ·Ω¥\ Œ±·ΩêœÑŒø·ø¶\ Œ¶ŒπŒªŒôÃ£\ 4\ 5\ Œ∫Œ±·Ω∂}
\item
  Example after cleaning: \texttt{·º°\ Œ≥œÖŒΩ·Ω¥\ Œ±·ΩêœÑŒø·ø¶\ Œ¶ŒπŒªŒô\ Œ∫Œ±·Ω∂}
\end{itemize}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{arabic_numerals <-}\StringTok{ }\KeywordTok{c}\NormalTok{(}\StringTok{"[0-9]+"}\NormalTok{, }\StringTok{""}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\hypertarget{unclosed-brackets}{%
\subsubsection{3.20 Unclosed brackets}\label{unclosed-brackets}}

\textbf{Aim:} All instances of unclosed brackets will be eliminated
(substituted with "").

\textbf{!!!} Use the \texttt{unclosed\_brackets} script immediately
before \texttt{multi\_whitespace} and \texttt{whitespace\_endline}
scripts, otherwise the Regex pattern would not clean the text properly.

\begin{itemize}
\tightlist
\item
  Example before cleaning: \texttt{ummio\ isenna\ Xv\ {[}}
\item
  Example after cleaning: \texttt{ummio\ isenna\ Xv}
\end{itemize}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{unclosed_brackets <-}\StringTok{ }\KeywordTok{c}\NormalTok{(}\StringTok{"[}\CharTok{\textbackslash{}\textbackslash{}}\StringTok{[|}\CharTok{\textbackslash{}\textbackslash{}}\StringTok{\{|}\CharTok{\textbackslash{}\textbackslash{}}\StringTok{(|}\CharTok{\textbackslash{}\textbackslash{}}\StringTok{)|}\CharTok{\textbackslash{}\textbackslash{}}\StringTok{\}|}\CharTok{\textbackslash{}\textbackslash{}}\StringTok{]]"}\NormalTok{, }\StringTok{""}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{center}\rule{0.5\linewidth}{0.5pt}\end{center}

\hypertarget{building-cleaning-functions-for-specific-datasets}{%
\section{Building cleaning functions for specific
datasets}\label{building-cleaning-functions-for-specific-datasets}}

When we have established the individual buidling blocks, we can put them
together in the right sequence and build a cleaning function in R for
conservative and interpretive models.

\hypertarget{phi-greek-inscriptions-dataset}{%
\subsection{PHI Greek Inscriptions
dataset}\label{phi-greek-inscriptions-dataset}}

Source: \url{https://epigraphy.packhum.org/}

\hypertarget{loading-data}{%
\subsubsection{Loading data}\label{loading-data}}

First, we need to load the provided test dataset
\texttt{PHI\_IGBulg-I.csv} located in the \texttt{test\_data} folder and
create an object \texttt{dirtytext} contain the text to be cleaned. Use
\texttt{getwd()} function to make sure you are in the right working
directory, so the \texttt{read\_csv} code works for you. If not, adjust
the path.

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{getwd}\NormalTok{()}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] "/home/petra/Github/epigraphic_cleaning/scripts/R"
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{text <-}\StringTok{ }\KeywordTok{read_csv}\NormalTok{(}\StringTok{"../../test_data/PHI_IGBulg-I.csv"}\NormalTok{)}
\NormalTok{dirtytext <-}\StringTok{ }\KeywordTok{as.data.frame}\NormalTok{(}\KeywordTok{select}\NormalTok{(text, hdr2, data))}
\end{Highlighting}
\end{Shaded}

\hypertarget{conservative-model}{%
\subsubsection{Conservative model}\label{conservative-model}}

\emph{Aim:} to have a clean text that is as close to the original
inscription as preserved on the medium.

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{cleaning_conservative <-}\StringTok{ }\ControlFlowTok{function}\NormalTok{(epigraphic_dataset)\{}
\NormalTok{  clean_text <-}\StringTok{ }\KeywordTok{gsub}\NormalTok{(}\DataTypeTok{pattern=}\NormalTok{dubious_dot_subscript[}\DecValTok{1}\NormalTok{], }\DataTypeTok{replacement=}\NormalTok{dubious_dot_subscript[}\DecValTok{2}\NormalTok{], }\DataTypeTok{x=}\NormalTok{epigraphic_dataset, }\DataTypeTok{perl=}\OtherTok{TRUE}\NormalTok{)}
\NormalTok{  clean_text <-}\StringTok{ }\KeywordTok{gsub}\NormalTok{(}\DataTypeTok{pattern=}\NormalTok{lacuna1[}\DecValTok{1}\NormalTok{], }\DataTypeTok{replacement=}\NormalTok{lacuna1[}\DecValTok{2}\NormalTok{], }\DataTypeTok{x=}\NormalTok{clean_text, }\DataTypeTok{perl=}\OtherTok{TRUE}\NormalTok{)}
\NormalTok{  clean_text <-}\StringTok{ }\KeywordTok{gsub}\NormalTok{(}\DataTypeTok{pattern=}\NormalTok{lacuna2[}\DecValTok{1}\NormalTok{], }\DataTypeTok{replacement=}\NormalTok{lacuna2[}\DecValTok{2}\NormalTok{], }\DataTypeTok{x=}\NormalTok{clean_text, }\DataTypeTok{perl=}\OtherTok{TRUE}\NormalTok{)}
\NormalTok{  clean_text <-}\StringTok{ }\KeywordTok{gsub}\NormalTok{(}\DataTypeTok{pattern=}\NormalTok{vacat[}\DecValTok{1}\NormalTok{], }\DataTypeTok{replacement=}\NormalTok{vacat[}\DecValTok{2}\NormalTok{], }\DataTypeTok{x=}\NormalTok{clean_text, }\DataTypeTok{perl=}\OtherTok{TRUE}\NormalTok{)}
\NormalTok{  clean_text <-}\StringTok{ }\KeywordTok{gsub}\NormalTok{(}\DataTypeTok{pattern=}\NormalTok{editorial_notes[}\DecValTok{1}\NormalTok{], }\DataTypeTok{replacement=}\NormalTok{editorial_notes[}\DecValTok{2}\NormalTok{], }\DataTypeTok{x=}\NormalTok{clean_text, }\DataTypeTok{perl=}\OtherTok{TRUE}\NormalTok{)}
\NormalTok{  clean_text <-}\StringTok{ }\KeywordTok{gsub}\NormalTok{(}\DataTypeTok{pattern=}\NormalTok{expanded_abbreviations_conservative[}\DecValTok{1}\NormalTok{], }\DataTypeTok{replacement=}\NormalTok{expanded_abbreviations_conservative[}\DecValTok{2}\NormalTok{], }\DataTypeTok{x=}\NormalTok{clean_text, }\DataTypeTok{perl=}\OtherTok{TRUE}\NormalTok{)}
\NormalTok{  clean_text <-}\StringTok{ }\KeywordTok{gsub}\NormalTok{(}\DataTypeTok{pattern=}\NormalTok{suppresion_superscripts_conservative[}\DecValTok{1}\NormalTok{], }\DataTypeTok{replacement=}\NormalTok{suppresion_superscripts_conservative[}\DecValTok{2}\NormalTok{], }\DataTypeTok{x=}\NormalTok{clean_text, }\DataTypeTok{perl=}\OtherTok{TRUE}\NormalTok{)}
\NormalTok{  clean_text <-}\StringTok{ }\KeywordTok{gsub}\NormalTok{(}\DataTypeTok{pattern=}\NormalTok{suppresion_conservative[}\DecValTok{1}\NormalTok{], }\DataTypeTok{replacement=}\NormalTok{suppresion_conservative[}\DecValTok{2}\NormalTok{], }\DataTypeTok{x=}\NormalTok{clean_text, }\DataTypeTok{perl=}\OtherTok{TRUE}\NormalTok{)}
\NormalTok{  clean_text <-}\StringTok{ }\KeywordTok{gsub}\NormalTok{(}\DataTypeTok{pattern=}\NormalTok{restoration_conservative[}\DecValTok{1}\NormalTok{], }\DataTypeTok{replacement=}\NormalTok{restoration_conservative[}\DecValTok{2}\NormalTok{], }\DataTypeTok{x=}\NormalTok{clean_text, }\DataTypeTok{perl=}\OtherTok{TRUE}\NormalTok{)}
\NormalTok{  clean_text <-}\StringTok{ }\KeywordTok{gsub}\NormalTok{(}\DataTypeTok{pattern=}\NormalTok{substitution_conservative[}\DecValTok{1}\NormalTok{], }\DataTypeTok{replacement=}\NormalTok{substitution_conservative[}\DecValTok{2}\NormalTok{], }\DataTypeTok{x=}\NormalTok{clean_text, }\DataTypeTok{perl=}\OtherTok{TRUE}\NormalTok{)}
\NormalTok{  clean_text <-}\StringTok{ }\KeywordTok{gsub}\NormalTok{(}\DataTypeTok{pattern=}\NormalTok{new_line[}\DecValTok{1}\NormalTok{], }\DataTypeTok{replacement=}\NormalTok{new_line[}\DecValTok{2}\NormalTok{], }\DataTypeTok{x=}\NormalTok{clean_text, }\DataTypeTok{perl=}\OtherTok{TRUE}\NormalTok{)}
\NormalTok{  clean_text <-}\StringTok{ }\KeywordTok{gsub}\NormalTok{(}\DataTypeTok{pattern=}\NormalTok{split_word_multiline[}\DecValTok{1}\NormalTok{], }\DataTypeTok{replacement=}\NormalTok{split_word_multiline[}\DecValTok{2}\NormalTok{], }\DataTypeTok{x=}\NormalTok{clean_text, }\DataTypeTok{perl=}\OtherTok{TRUE}\NormalTok{)}
\NormalTok{  clean_text <-}\StringTok{ }\KeywordTok{gsub}\NormalTok{(}\DataTypeTok{pattern=}\NormalTok{erasure_empty[}\DecValTok{1}\NormalTok{], }\DataTypeTok{replacement=}\NormalTok{erasure_empty[}\DecValTok{2}\NormalTok{], }\DataTypeTok{x=}\NormalTok{clean_text, }\DataTypeTok{perl=}\OtherTok{TRUE}\NormalTok{)}
\NormalTok{  clean_text <-}\StringTok{ }\KeywordTok{gsub}\NormalTok{(}\DataTypeTok{pattern=}\NormalTok{erasure_new_text[}\DecValTok{1}\NormalTok{], }\DataTypeTok{replacement=}\NormalTok{erasure_new_text[}\DecValTok{2}\NormalTok{], }\DataTypeTok{x=}\NormalTok{clean_text, }\DataTypeTok{perl=}\OtherTok{TRUE}\NormalTok{)}
\NormalTok{  clean_text <-}\StringTok{ }\KeywordTok{gsub}\NormalTok{(}\DataTypeTok{pattern=}\NormalTok{interpunction_symbols[}\DecValTok{1}\NormalTok{], }\DataTypeTok{replacement=}\NormalTok{interpunction_symbols[}\DecValTok{2}\NormalTok{], }\DataTypeTok{x=}\NormalTok{clean_text, }\DataTypeTok{perl=}\OtherTok{TRUE}\NormalTok{)}
\NormalTok{  clean_text <-}\StringTok{ }\KeywordTok{gsub}\NormalTok{(}\DataTypeTok{pattern=}\NormalTok{superscript_numbers[}\DecValTok{1}\NormalTok{], }\DataTypeTok{replacement=}\NormalTok{superscript_numbers[}\DecValTok{2}\NormalTok{], }\DataTypeTok{x=}\NormalTok{clean_text, }\DataTypeTok{perl=}\OtherTok{TRUE}\NormalTok{)}
\NormalTok{  clean_text <-}\StringTok{ }\KeywordTok{gsub}\NormalTok{(}\DataTypeTok{pattern=}\NormalTok{epigraphic_symbols[}\DecValTok{1}\NormalTok{], }\DataTypeTok{replacement=}\NormalTok{epigraphic_symbols[}\DecValTok{2}\NormalTok{], }\DataTypeTok{x=}\NormalTok{clean_text, }\DataTypeTok{perl=}\OtherTok{TRUE}\NormalTok{)}
\NormalTok{  clean_text <-}\StringTok{ }\KeywordTok{gsub}\NormalTok{(}\DataTypeTok{pattern=}\NormalTok{uncertainty_symbols[}\DecValTok{1}\NormalTok{], }\DataTypeTok{replacement=}\NormalTok{uncertainty_symbols[}\DecValTok{2}\NormalTok{], }\DataTypeTok{x=}\NormalTok{clean_text, }\DataTypeTok{perl=}\OtherTok{TRUE}\NormalTok{)}
\NormalTok{  clean_text <-}\StringTok{ }\KeywordTok{gsub}\NormalTok{(}\DataTypeTok{pattern=}\NormalTok{uncertainty_symbols[}\DecValTok{1}\NormalTok{], }\DataTypeTok{replacement=}\NormalTok{uncertainty_symbols[}\DecValTok{2}\NormalTok{], }\DataTypeTok{x=}\NormalTok{clean_text, }\DataTypeTok{perl=}\OtherTok{TRUE}\NormalTok{)}
\NormalTok{  clean_text <-}\StringTok{ }\KeywordTok{gsub}\NormalTok{(}\DataTypeTok{pattern=}\NormalTok{end_line[}\DecValTok{1}\NormalTok{], }\DataTypeTok{replacement=}\NormalTok{end_line[}\DecValTok{2}\NormalTok{], }\DataTypeTok{x=}\NormalTok{clean_text, }\DataTypeTok{perl=}\OtherTok{TRUE}\NormalTok{)}
\NormalTok{  clean_text <-}\StringTok{ }\KeywordTok{gsub}\NormalTok{(}\DataTypeTok{pattern=}\NormalTok{extra_blank[}\DecValTok{1}\NormalTok{], }\DataTypeTok{replacement=}\NormalTok{extra_blank[}\DecValTok{2}\NormalTok{], }\DataTypeTok{x=}\NormalTok{clean_text, }\DataTypeTok{perl=}\OtherTok{TRUE}\NormalTok{)}
\NormalTok{  clean_text <-}\StringTok{ }\KeywordTok{gsub}\NormalTok{(}\DataTypeTok{pattern=}\NormalTok{arabic_numerals[}\DecValTok{1}\NormalTok{], }\DataTypeTok{replacement=}\NormalTok{arabic_numerals[}\DecValTok{2}\NormalTok{], }\DataTypeTok{x=}\NormalTok{clean_text, }\DataTypeTok{perl=}\OtherTok{TRUE}\NormalTok{)}
\NormalTok{  clean_text <-}\StringTok{ }\KeywordTok{gsub}\NormalTok{(}\DataTypeTok{pattern=}\NormalTok{multi_whitespace[}\DecValTok{1}\NormalTok{], }\DataTypeTok{replacement=}\NormalTok{multi_whitespace[}\DecValTok{2}\NormalTok{], }\DataTypeTok{x=}\NormalTok{clean_text, }\DataTypeTok{perl=}\OtherTok{TRUE}\NormalTok{)}
\NormalTok{  clean_text <-}\StringTok{ }\KeywordTok{gsub}\NormalTok{(}\DataTypeTok{pattern=}\NormalTok{whitespace_endline[}\DecValTok{1}\NormalTok{], }\DataTypeTok{replacement=}\NormalTok{whitespace_endline[}\DecValTok{2}\NormalTok{], }\DataTypeTok{x=}\NormalTok{clean_text, }\DataTypeTok{perl=}\OtherTok{TRUE}\NormalTok{)}
      \KeywordTok{return}\NormalTok{(clean_text)}
\NormalTok{\}}
\end{Highlighting}
\end{Shaded}

\hypertarget{example-of-conservative-cleaning}{%
\paragraph{Example of conservative
cleaning:}\label{example-of-conservative-cleaning}}

\emph{Original text of an inscription IGBulg I¬≤ 15(3) before cleaning:}

{[}--- --- --- --- --- --- --- --- --- --- --- --- --- --- ---{]}

{[}--- --- ---Œ¥·ΩπŒΩœÑŒ± Œ∫Œ±·Ω∂ Œ¥ŒπŒ±ŒΩŒøŒº{]}·Ω∞Ã£œÇÃ£ œÑÃ£·øáÃ£ œÑÃ£ŒµÃ£ Œ∫Ã£œÅÃ£Œ±Ã£-

{[}œÑ·Ω∑{]}œÉÃ£œÑÃ£·øÉ Œ≤ŒøœÖŒª·øá Œ∫Œ±·Ω∂ ·ºÄŒ≥ŒøœÅŒ±ŒΩ·ΩπŒºŒøŒπœÇ Œ∫Œ±·Ω∂

{[}œÑŒ±·øñ{]}œÇ ·ºëœÄœÑ·Ω∞ œÜœÖŒªŒ±·øñœÇ Œ∫Œ±·Ω∂ œÑŒø·øñœÇ ·ΩëŒºŒΩŒø·ø¶œÉŒπ

œÑŒø·Ω∫œÇ Œ£ŒµŒ≤Œ±œÉœÑŒø·Ω∫œÇ Œ∫Œ±·Ω∂ ·ºÄŒ≥ŒøœÅŒ±·Ω∑ŒøŒπœÇ, ·º∞-

Œ±Ã£œÑœÅŒø·øñœÇ, œÄŒ±ŒπŒ¥ŒµœÖœÑŒ±·øñœÇ Œ∫Œ±·Ω∂ œÑŒø·øñœÇ œÄŒ±œÅŒµ-

\{{[}œÄŒ±{]}œÅÃ£ŒµÃ£\}œÄÃ£ŒπŒ¥Œ∑Ã£Œº·ΩµœÉŒ±Ã£œÉŒπŒΩ \{¬≤‚Å∂œÄŒ±œÅŒµœÄŒπŒ¥Œ∑Œº·ΩµœÉŒ±œÉŒπŒΩ\}¬≤‚Å∂ œÑ·øÜÃ£œÇÃ£ Œ†Ã£ŒµÃ£ŒΩœÑ{[}Œ±{]}-

{[}œÄ·ΩπŒªŒµœâœÇ Œ≤ŒøœÖŒªŒµœÖœÑŒ±·øñœÇ --- --- --- --- ---{]}

{[}--- --- --- --- --- --- --- --- --- --- --- --- ---{]}

Output of the \texttt{cleaning\_conservative} function:

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{example_conservative <-}\StringTok{ }\KeywordTok{as.data.frame}\NormalTok{(}\KeywordTok{cleaning_conservative}\NormalTok{(dirtytext}\OperatorTok{$}\NormalTok{data))}
\NormalTok{example_conservative[}\DecValTok{30}\NormalTok{,]}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] "·Ω∞œÇ œÑ·øá œÑŒµ Œ∫œÅŒ±œÉœÑ·øÉ Œ≤ŒøœÖŒª·øá Œ∫Œ±·Ω∂ ·ºÄŒ≥ŒøœÅŒ±ŒΩ·ΩπŒºŒøŒπœÇ Œ∫Œ±·Ω∂ œÇ ·ºëœÄœÑ·Ω∞ œÜœÖŒªŒ±·øñœÇ Œ∫Œ±·Ω∂ œÑŒø·øñœÇ ·ΩëŒºŒΩŒø·ø¶œÉŒπ œÑŒø·Ω∫œÇ Œ£ŒµŒ≤Œ±œÉœÑŒø·Ω∫œÇ Œ∫Œ±·Ω∂ ·ºÄŒ≥ŒøœÅŒ±·Ω∑ŒøŒπœÇ ·º∞Œ±œÑœÅŒø·øñœÇ œÄŒ±ŒπŒ¥ŒµœÖœÑŒ±·øñœÇ Œ∫Œ±·Ω∂ œÑŒø·øñœÇ œÄŒ±œÅŒµœÅŒµœÄŒπŒ¥Œ∑Œº·ΩµœÉŒ±œÉŒπŒΩ œÑ·øÜœÇ Œ†ŒµŒΩœÑ"
\end{verbatim}

\hypertarget{interpretive-model}{%
\subsubsection{Interpretive model}\label{interpretive-model}}

\emph{Aim:} to have a clean text enriched by editorial interpretations
and reconstructions of the text (to have as rich text of an inscription
as possible).

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{cleaning_interpretive <-}\StringTok{ }\ControlFlowTok{function}\NormalTok{(epigraphic_dataset)\{}
\NormalTok{  clean_text <-}\StringTok{ }\KeywordTok{gsub}\NormalTok{(}\DataTypeTok{pattern=}\NormalTok{dubious_dot_subscript[}\DecValTok{1}\NormalTok{], }\DataTypeTok{replacement=}\NormalTok{dubious_dot_subscript[}\DecValTok{2}\NormalTok{], }\DataTypeTok{x=}\NormalTok{epigraphic_dataset, }\DataTypeTok{perl=}\OtherTok{TRUE}\NormalTok{)}
\NormalTok{  clean_text <-}\StringTok{ }\KeywordTok{gsub}\NormalTok{(}\DataTypeTok{pattern=}\NormalTok{lacuna1[}\DecValTok{1}\NormalTok{], }\DataTypeTok{replacement=}\NormalTok{lacuna1[}\DecValTok{2}\NormalTok{], }\DataTypeTok{x=}\NormalTok{clean_text, }\DataTypeTok{perl=}\OtherTok{TRUE}\NormalTok{)}
\NormalTok{  clean_text <-}\StringTok{ }\KeywordTok{gsub}\NormalTok{(}\DataTypeTok{pattern=}\NormalTok{lacuna2[}\DecValTok{1}\NormalTok{], }\DataTypeTok{replacement=}\NormalTok{lacuna2[}\DecValTok{2}\NormalTok{], }\DataTypeTok{x=}\NormalTok{clean_text, }\DataTypeTok{perl=}\OtherTok{TRUE}\NormalTok{)}
\NormalTok{  clean_text <-}\StringTok{ }\KeywordTok{gsub}\NormalTok{(}\DataTypeTok{pattern=}\NormalTok{vacat[}\DecValTok{1}\NormalTok{], }\DataTypeTok{replacement=}\NormalTok{vacat[}\DecValTok{2}\NormalTok{], }\DataTypeTok{x=}\NormalTok{clean_text, }\DataTypeTok{perl=}\OtherTok{TRUE}\NormalTok{)}
\NormalTok{  clean_text <-}\StringTok{ }\KeywordTok{gsub}\NormalTok{(}\DataTypeTok{pattern=}\NormalTok{editorial_notes[}\DecValTok{1}\NormalTok{], }\DataTypeTok{replacement=}\NormalTok{editorial_notes[}\DecValTok{2}\NormalTok{], }\DataTypeTok{x=}\NormalTok{clean_text, }\DataTypeTok{perl=}\OtherTok{TRUE}\NormalTok{)}
\NormalTok{  clean_text <-}\StringTok{ }\KeywordTok{gsub}\NormalTok{(}\DataTypeTok{pattern=}\NormalTok{editorial_comments_latin[}\DecValTok{1}\NormalTok{], }\DataTypeTok{replacement=}\NormalTok{editorial_comments_latin[}\DecValTok{2}\NormalTok{], }\DataTypeTok{x=}\NormalTok{clean_text, }\DataTypeTok{perl=}\OtherTok{TRUE}\NormalTok{)}
\NormalTok{  clean_text <-}\StringTok{ }\KeywordTok{gsub}\NormalTok{(}\DataTypeTok{pattern=}\NormalTok{expanded_abbreviations_interpretive[}\DecValTok{1}\NormalTok{], }\DataTypeTok{replacement=}\NormalTok{expanded_abbreviations_interpretive[}\DecValTok{2}\NormalTok{], }\DataTypeTok{x=}\NormalTok{clean_text, }\DataTypeTok{perl=}\OtherTok{TRUE}\NormalTok{)}
\NormalTok{ clean_text <-}\StringTok{ }\KeywordTok{gsub}\NormalTok{(}\DataTypeTok{pattern=}\NormalTok{suppresion_superscripts_interpretive[}\DecValTok{1}\NormalTok{], }\DataTypeTok{replacement=}\NormalTok{suppresion_superscripts_interpretive[}\DecValTok{2}\NormalTok{], }\DataTypeTok{x=}\NormalTok{clean_text, }\DataTypeTok{perl=}\OtherTok{TRUE}\NormalTok{)}
\NormalTok{  clean_text <-}\StringTok{ }\KeywordTok{gsub}\NormalTok{(}\DataTypeTok{pattern=}\NormalTok{suppresion_keep_interpretive[}\DecValTok{1}\NormalTok{], }\DataTypeTok{replacement=}\NormalTok{suppresion_keep_interpretive[}\DecValTok{2}\NormalTok{], }\DataTypeTok{x=}\NormalTok{clean_text, }\DataTypeTok{perl=}\OtherTok{TRUE}\NormalTok{)}
\NormalTok{  clean_text <-}\StringTok{ }\KeywordTok{gsub}\NormalTok{(}\DataTypeTok{pattern=}\NormalTok{restoration_interpretive[}\DecValTok{1}\NormalTok{], }\DataTypeTok{replacement=}\NormalTok{restoration_interpretive[}\DecValTok{2}\NormalTok{], }\DataTypeTok{x=}\NormalTok{clean_text, }\DataTypeTok{perl=}\OtherTok{TRUE}\NormalTok{)}
\NormalTok{  clean_text <-}\StringTok{ }\KeywordTok{gsub}\NormalTok{(}\DataTypeTok{pattern=}\NormalTok{substitution_interpretive[}\DecValTok{1}\NormalTok{], }\DataTypeTok{replacement=}\NormalTok{substitution_interpretive[}\DecValTok{2}\NormalTok{], }\DataTypeTok{x=}\NormalTok{clean_text, }\DataTypeTok{perl=}\OtherTok{TRUE}\NormalTok{)}
\NormalTok{  clean_text <-}\StringTok{ }\KeywordTok{gsub}\NormalTok{(}\DataTypeTok{pattern=}\NormalTok{new_line[}\DecValTok{1}\NormalTok{], }\DataTypeTok{replacement=}\NormalTok{new_line[}\DecValTok{2}\NormalTok{], }\DataTypeTok{x=}\NormalTok{clean_text, }\DataTypeTok{perl=}\OtherTok{TRUE}\NormalTok{)}
\NormalTok{  clean_text <-}\StringTok{ }\KeywordTok{gsub}\NormalTok{(}\DataTypeTok{pattern=}\NormalTok{split_word_multiline[}\DecValTok{1}\NormalTok{], }\DataTypeTok{replacement=}\NormalTok{split_word_multiline[}\DecValTok{2}\NormalTok{], }\DataTypeTok{x=}\NormalTok{clean_text, }\DataTypeTok{perl=}\OtherTok{TRUE}\NormalTok{)}
\NormalTok{  clean_text <-}\StringTok{ }\KeywordTok{gsub}\NormalTok{(}\DataTypeTok{pattern=}\NormalTok{erasure_empty[}\DecValTok{1}\NormalTok{], }\DataTypeTok{replacement=}\NormalTok{erasure_empty[}\DecValTok{2}\NormalTok{], }\DataTypeTok{x=}\NormalTok{clean_text, }\DataTypeTok{perl=}\OtherTok{TRUE}\NormalTok{)}
\NormalTok{  clean_text <-}\StringTok{ }\KeywordTok{gsub}\NormalTok{(}\DataTypeTok{pattern=}\NormalTok{erasure_new_text[}\DecValTok{1}\NormalTok{], }\DataTypeTok{replacement=}\NormalTok{erasure_new_text[}\DecValTok{2}\NormalTok{], }\DataTypeTok{x=}\NormalTok{clean_text, }\DataTypeTok{perl=}\OtherTok{TRUE}\NormalTok{)}
\NormalTok{  clean_text <-}\StringTok{ }\KeywordTok{gsub}\NormalTok{(}\DataTypeTok{pattern=}\NormalTok{interpunction_symbols[}\DecValTok{1}\NormalTok{], }\DataTypeTok{replacement=}\NormalTok{interpunction_symbols[}\DecValTok{2}\NormalTok{], }\DataTypeTok{x=}\NormalTok{clean_text, }\DataTypeTok{perl=}\OtherTok{TRUE}\NormalTok{)}
\NormalTok{  clean_text <-}\StringTok{ }\KeywordTok{gsub}\NormalTok{(}\DataTypeTok{pattern=}\NormalTok{superscript_numbers[}\DecValTok{1}\NormalTok{], }\DataTypeTok{replacement=}\NormalTok{superscript_numbers[}\DecValTok{2}\NormalTok{], }\DataTypeTok{x=}\NormalTok{clean_text, }\DataTypeTok{perl=}\OtherTok{TRUE}\NormalTok{)}
\NormalTok{  clean_text <-}\StringTok{ }\KeywordTok{gsub}\NormalTok{(}\DataTypeTok{pattern=}\NormalTok{epigraphic_symbols[}\DecValTok{1}\NormalTok{], }\DataTypeTok{replacement=}\NormalTok{epigraphic_symbols[}\DecValTok{2}\NormalTok{], }\DataTypeTok{x=}\NormalTok{clean_text, }\DataTypeTok{perl=}\OtherTok{TRUE}\NormalTok{)}
\NormalTok{  clean_text <-}\StringTok{ }\KeywordTok{gsub}\NormalTok{(}\DataTypeTok{pattern=}\NormalTok{uncertainty_symbols[}\DecValTok{1}\NormalTok{], }\DataTypeTok{replacement=}\NormalTok{uncertainty_symbols[}\DecValTok{2}\NormalTok{], }\DataTypeTok{x=}\NormalTok{clean_text, }\DataTypeTok{perl=}\OtherTok{TRUE}\NormalTok{)}
\NormalTok{  clean_text <-}\StringTok{ }\KeywordTok{gsub}\NormalTok{(}\DataTypeTok{pattern=}\NormalTok{end_line[}\DecValTok{1}\NormalTok{], }\DataTypeTok{replacement=}\NormalTok{end_line[}\DecValTok{2}\NormalTok{], }\DataTypeTok{x=}\NormalTok{clean_text, }\DataTypeTok{perl=}\OtherTok{TRUE}\NormalTok{)}
\NormalTok{  clean_text <-}\StringTok{ }\KeywordTok{gsub}\NormalTok{(}\DataTypeTok{pattern=}\NormalTok{extra_blank[}\DecValTok{1}\NormalTok{], }\DataTypeTok{replacement=}\NormalTok{extra_blank[}\DecValTok{2}\NormalTok{], }\DataTypeTok{x=}\NormalTok{clean_text, }\DataTypeTok{perl=}\OtherTok{TRUE}\NormalTok{)}
\NormalTok{  clean_text <-}\StringTok{ }\KeywordTok{gsub}\NormalTok{(}\DataTypeTok{pattern=}\NormalTok{arabic_numerals[}\DecValTok{1}\NormalTok{], }\DataTypeTok{replacement=}\NormalTok{arabic_numerals[}\DecValTok{2}\NormalTok{], }\DataTypeTok{x=}\NormalTok{clean_text, }\DataTypeTok{perl=}\OtherTok{TRUE}\NormalTok{)}
\NormalTok{  clean_text <-}\StringTok{ }\KeywordTok{gsub}\NormalTok{(}\DataTypeTok{pattern=}\NormalTok{multi_whitespace[}\DecValTok{1}\NormalTok{], }\DataTypeTok{replacement=}\NormalTok{multi_whitespace[}\DecValTok{2}\NormalTok{], }\DataTypeTok{x=}\NormalTok{clean_text, }\DataTypeTok{perl=}\OtherTok{TRUE}\NormalTok{)}
\NormalTok{  clean_text <-}\StringTok{ }\KeywordTok{gsub}\NormalTok{(}\DataTypeTok{pattern=}\NormalTok{whitespace_endline[}\DecValTok{1}\NormalTok{], }\DataTypeTok{replacement=}\NormalTok{whitespace_endline[}\DecValTok{2}\NormalTok{], }\DataTypeTok{x=}\NormalTok{clean_text, }\DataTypeTok{perl=}\OtherTok{TRUE}\NormalTok{)}
      \KeywordTok{return}\NormalTok{(clean_text)}
\NormalTok{\}}
\end{Highlighting}
\end{Shaded}

\hypertarget{example-of-interpretive-cleaning}{%
\paragraph{Example of interpretive
cleaning:}\label{example-of-interpretive-cleaning}}

\emph{Original text of an inscription IGBulg I¬≤ 15(3) before cleaning:}

{[}--- --- --- --- --- --- --- --- --- --- --- --- --- --- ---{]}

{[}--- --- ---Œ¥·ΩπŒΩœÑŒ± Œ∫Œ±·Ω∂ Œ¥ŒπŒ±ŒΩŒøŒº{]}·Ω∞Ã£œÇÃ£ œÑÃ£·øáÃ£ œÑÃ£ŒµÃ£ Œ∫Ã£œÅÃ£Œ±Ã£-

{[}œÑ·Ω∑{]}œÉÃ£œÑÃ£·øÉ Œ≤ŒøœÖŒª·øá Œ∫Œ±·Ω∂ ·ºÄŒ≥ŒøœÅŒ±ŒΩ·ΩπŒºŒøŒπœÇ Œ∫Œ±·Ω∂

{[}œÑŒ±·øñ{]}œÇ ·ºëœÄœÑ·Ω∞ œÜœÖŒªŒ±·øñœÇ Œ∫Œ±·Ω∂ œÑŒø·øñœÇ ·ΩëŒºŒΩŒø·ø¶œÉŒπ

œÑŒø·Ω∫œÇ Œ£ŒµŒ≤Œ±œÉœÑŒø·Ω∫œÇ Œ∫Œ±·Ω∂ ·ºÄŒ≥ŒøœÅŒ±·Ω∑ŒøŒπœÇ, ·º∞-

Œ±Ã£œÑœÅŒø·øñœÇ, œÄŒ±ŒπŒ¥ŒµœÖœÑŒ±·øñœÇ Œ∫Œ±·Ω∂ œÑŒø·øñœÇ œÄŒ±œÅŒµ-

\{{[}œÄŒ±{]}œÅÃ£ŒµÃ£\}œÄÃ£ŒπŒ¥Œ∑Ã£Œº·ΩµœÉŒ±Ã£œÉŒπŒΩ \{¬≤‚Å∂œÄŒ±œÅŒµœÄŒπŒ¥Œ∑Œº·ΩµœÉŒ±œÉŒπŒΩ\}¬≤‚Å∂ œÑ·øÜÃ£œÇÃ£ Œ†Ã£ŒµÃ£ŒΩœÑ{[}Œ±{]}-

{[}œÄ·ΩπŒªŒµœâœÇ Œ≤ŒøœÖŒªŒµœÖœÑŒ±·øñœÇ --- --- --- --- ---{]}

{[}--- --- --- --- --- --- --- --- --- --- --- --- ---{]}

Output of the \texttt{cleanining\_interpretive} function:

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{example_interpretive <-}\StringTok{ }\KeywordTok{as.data.frame}\NormalTok{(}\KeywordTok{cleaning_interpretive}\NormalTok{(dirtytext}\OperatorTok{$}\NormalTok{data))}
\NormalTok{example_interpretive[}\DecValTok{30}\NormalTok{,]}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] "Œ¥·ΩπŒΩœÑŒ± Œ∫Œ±·Ω∂ Œ¥ŒπŒ±ŒΩŒøŒº·Ω∞œÇ œÑ·øá œÑŒµ Œ∫œÅŒ±œÑ·Ω∑œÉœÑ·øÉ Œ≤ŒøœÖŒª·øá Œ∫Œ±·Ω∂ ·ºÄŒ≥ŒøœÅŒ±ŒΩ·ΩπŒºŒøŒπœÇ Œ∫Œ±·Ω∂ œÑŒ±·øñœÇ ·ºëœÄœÑ·Ω∞ œÜœÖŒªŒ±·øñœÇ Œ∫Œ±·Ω∂ œÑŒø·øñœÇ ·ΩëŒºŒΩŒø·ø¶œÉŒπ œÑŒø·Ω∫œÇ Œ£ŒµŒ≤Œ±œÉœÑŒø·Ω∫œÇ Œ∫Œ±·Ω∂ ·ºÄŒ≥ŒøœÅŒ±·Ω∑ŒøŒπœÇ ·º∞Œ±œÑœÅŒø·øñœÇ œÄŒ±ŒπŒ¥ŒµœÖœÑŒ±·øñœÇ Œ∫Œ±·Ω∂ œÑŒø·øñœÇ œÄŒ±œÅŒµœÄŒπŒ¥Œ∑Œº·ΩµœÉŒ±œÉŒπŒΩ œÑ·øÜœÇ Œ†ŒµŒΩœÑŒ±œÄ·ΩπŒªŒµœâœÇ Œ≤ŒøœÖŒªŒµœÖœÑŒ±·øñœÇ"
\end{verbatim}

\hypertarget{saving-both-versions-of-the-cleaned-text-in-a-csv}{%
\subsubsection{Saving both versions of the cleaned text in a
CSV}\label{saving-both-versions-of-the-cleaned-text-in-a-csv}}

Save the output of \texttt{cleaning\_conservative} and
\texttt{cleaning\_interpretive} function together with the original
contents of the dataset. Create a new directory \texttt{outputs} in the
root folder if it does not exist.

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{clean_text <-}\StringTok{ }\NormalTok{text }\OperatorTok{%>%}
\StringTok{  }\KeywordTok{mutate}\NormalTok{(}\DataTypeTok{clean_text_conservative =} \KeywordTok{cleaning_conservative}\NormalTok{(text}\OperatorTok{$}\NormalTok{data)) }\OperatorTok{%>%}
\StringTok{  }\KeywordTok{mutate}\NormalTok{(}\DataTypeTok{clean_text_interpretive =} \KeywordTok{cleaning_interpretive}\NormalTok{(text}\OperatorTok{$}\NormalTok{data))}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{# dir.create("../../outputs")}
\KeywordTok{write_csv}\NormalTok{(clean_text, }\DataTypeTok{path =} \StringTok{"../../outputs/PHI_IGBulg-I_clean_text.csv"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\hypertarget{edh-inscriptions-dataset}{%
\subsection{EDH Inscriptions dataset}\label{edh-inscriptions-dataset}}

Source: \url{https://edh-www.adw.uni-heidelberg.de/}

\hypertarget{loading-data-1}{%
\subsubsection{Loading data}\label{loading-data-1}}

First, we need to install several more packages and load the libraries
in order to connect to Sciencedata.dk and access the dataset.

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  Input your sciencedata.dk username - type directly into the RStudio
  console
\end{enumerate}

\begin{verbatim}
## your sciencedata username:
\end{verbatim}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\setcounter{enumi}{1}
\tightlist
\item
  Make the request (you will be asked for password in a new pop-up
  window)
\end{enumerate}

\begin{verbatim}
## Please enter password in TK window (Alt+Tab)
\end{verbatim}

Sample data for testing (5000 inscriptions only)

\begin{verbatim}
## Please enter password in TK window (Alt+Tab)
\end{verbatim}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\setcounter{enumi}{2}
\tightlist
\item
  Make a list from the request and display the first six records (head)
\end{enumerate}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{list_json <-}\StringTok{ }\KeywordTok{fromJSON}\NormalTok{(resp)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## Error in fromJSON(resp): unexpected character '<'
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{EDH_tibble =}\StringTok{ }\KeywordTok{as_tibble}\NormalTok{(list_json)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## Error in as_tibble(list_json): object 'list_json' not found
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{head}\NormalTok{(EDH_tibble)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## Error in head(EDH_tibble): object 'EDH_tibble' not found
\end{verbatim}

\hypertarget{conservative-model-1}{%
\subsubsection{Conservative model}\label{conservative-model-1}}

\emph{Aim:} to have a clean text that is as close to the original
inscription as preserved on the medium - in case of the EDH dataset
column \texttt{diplomatic\_text} should be similar to the output of the
\texttt{conservative\_cleaning} model.

Since the dataset is mostly in Latin, I did not use the following
cleaning scripts: \texttt{vacat}, \texttt{editorial\_notes},
\texttt{editorial\_comments\_latin} since they would eliminate some
parts of the text that should not be eliminated. I am not using the
\texttt{suppresion\_superscripts\_conservative} script beacuse the
structure of the EDH dataset does not contain curly braces followed by
superscript numbers. The script \texttt{unclosed\_brackets} has been
added since EDH dataset contains a lot of unclosed brackets of all
kinds. Script \texttt{substitution\_edh\_conservative} was added to
clean additional substitution features of the EDH dataset.

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{cleaning_conservative_edh <-}\StringTok{ }\ControlFlowTok{function}\NormalTok{(epigraphic_dataset)\{}
\NormalTok{  clean_text <-}\StringTok{ }\KeywordTok{gsub}\NormalTok{(}\DataTypeTok{pattern=}\NormalTok{dubious_dot_subscript[}\DecValTok{1}\NormalTok{], }\DataTypeTok{replacement=}\NormalTok{dubious_dot_subscript[}\DecValTok{2}\NormalTok{], }\DataTypeTok{x=}\NormalTok{epigraphic_dataset, }\DataTypeTok{perl=}\OtherTok{TRUE}\NormalTok{)}
\NormalTok{  clean_text <-}\StringTok{ }\KeywordTok{gsub}\NormalTok{(}\DataTypeTok{pattern=}\NormalTok{lacuna1[}\DecValTok{1}\NormalTok{], }\DataTypeTok{replacement=}\NormalTok{lacuna1[}\DecValTok{2}\NormalTok{], }\DataTypeTok{x=}\NormalTok{clean_text, }\DataTypeTok{perl=}\OtherTok{TRUE}\NormalTok{)}
\NormalTok{  clean_text <-}\StringTok{ }\KeywordTok{gsub}\NormalTok{(}\DataTypeTok{pattern=}\NormalTok{lacuna2[}\DecValTok{1}\NormalTok{], }\DataTypeTok{replacement=}\NormalTok{lacuna2[}\DecValTok{2}\NormalTok{], }\DataTypeTok{x=}\NormalTok{clean_text, }\DataTypeTok{perl=}\OtherTok{TRUE}\NormalTok{)}
\NormalTok{  clean_text <-}\StringTok{ }\KeywordTok{gsub}\NormalTok{(}\DataTypeTok{pattern=}\NormalTok{expanded_abbreviations_conservative[}\DecValTok{1}\NormalTok{], }\DataTypeTok{replacement=}\NormalTok{expanded_abbreviations_conservative[}\DecValTok{2}\NormalTok{], }\DataTypeTok{x=}\NormalTok{clean_text, }\DataTypeTok{perl=}\OtherTok{TRUE}\NormalTok{)}
\NormalTok{  clean_text <-}\StringTok{ }\KeywordTok{gsub}\NormalTok{(}\DataTypeTok{pattern=}\NormalTok{suppresion_conservative[}\DecValTok{1}\NormalTok{], }\DataTypeTok{replacement=}\NormalTok{suppresion_conservative[}\DecValTok{2}\NormalTok{], }\DataTypeTok{x=}\NormalTok{clean_text, }\DataTypeTok{perl=}\OtherTok{TRUE}\NormalTok{)}
\NormalTok{  clean_text <-}\StringTok{ }\KeywordTok{gsub}\NormalTok{(}\DataTypeTok{pattern=}\NormalTok{restoration_conservative[}\DecValTok{1}\NormalTok{], }\DataTypeTok{replacement=}\NormalTok{restoration_conservative[}\DecValTok{2}\NormalTok{], }\DataTypeTok{x=}\NormalTok{clean_text, }\DataTypeTok{perl=}\OtherTok{TRUE}\NormalTok{)}
\NormalTok{  clean_text <-}\StringTok{ }\KeywordTok{gsub}\NormalTok{(}\DataTypeTok{pattern=}\NormalTok{substitution_edh_conservative[}\DecValTok{1}\NormalTok{], }\DataTypeTok{replacement=}\NormalTok{substitution_edh_conservative[}\DecValTok{2}\NormalTok{], }\DataTypeTok{x=}\NormalTok{clean_text, }\DataTypeTok{perl=}\OtherTok{TRUE}\NormalTok{)}
\NormalTok{  clean_text <-}\StringTok{ }\KeywordTok{gsub}\NormalTok{(}\DataTypeTok{pattern=}\NormalTok{substitution_conservative[}\DecValTok{1}\NormalTok{], }\DataTypeTok{replacement=}\NormalTok{substitution_conservative[}\DecValTok{2}\NormalTok{], }\DataTypeTok{x=}\NormalTok{clean_text, }\DataTypeTok{perl=}\OtherTok{TRUE}\NormalTok{)}
\NormalTok{  clean_text <-}\StringTok{ }\KeywordTok{gsub}\NormalTok{(}\DataTypeTok{pattern=}\NormalTok{new_line[}\DecValTok{1}\NormalTok{], }\DataTypeTok{replacement=}\NormalTok{new_line[}\DecValTok{2}\NormalTok{], }\DataTypeTok{x=}\NormalTok{clean_text, }\DataTypeTok{perl=}\OtherTok{TRUE}\NormalTok{)}
\NormalTok{  clean_text <-}\StringTok{ }\KeywordTok{gsub}\NormalTok{(}\DataTypeTok{pattern=}\NormalTok{split_word_multiline[}\DecValTok{1}\NormalTok{], }\DataTypeTok{replacement=}\NormalTok{split_word_multiline[}\DecValTok{2}\NormalTok{], }\DataTypeTok{x=}\NormalTok{clean_text, }\DataTypeTok{perl=}\OtherTok{TRUE}\NormalTok{)}
\NormalTok{  clean_text <-}\StringTok{ }\KeywordTok{gsub}\NormalTok{(}\DataTypeTok{pattern=}\NormalTok{erasure_empty[}\DecValTok{1}\NormalTok{], }\DataTypeTok{replacement=}\NormalTok{erasure_empty[}\DecValTok{2}\NormalTok{], }\DataTypeTok{x=}\NormalTok{clean_text, }\DataTypeTok{perl=}\OtherTok{TRUE}\NormalTok{)}
\NormalTok{  clean_text <-}\StringTok{ }\KeywordTok{gsub}\NormalTok{(}\DataTypeTok{pattern=}\NormalTok{erasure_new_text[}\DecValTok{1}\NormalTok{], }\DataTypeTok{replacement=}\NormalTok{erasure_new_text[}\DecValTok{2}\NormalTok{], }\DataTypeTok{x=}\NormalTok{clean_text, }\DataTypeTok{perl=}\OtherTok{TRUE}\NormalTok{)}
\NormalTok{  clean_text <-}\StringTok{ }\KeywordTok{gsub}\NormalTok{(}\DataTypeTok{pattern=}\NormalTok{interpunction_symbols[}\DecValTok{1}\NormalTok{], }\DataTypeTok{replacement=}\NormalTok{interpunction_symbols[}\DecValTok{2}\NormalTok{], }\DataTypeTok{x=}\NormalTok{clean_text, }\DataTypeTok{perl=}\OtherTok{TRUE}\NormalTok{)}
\NormalTok{  clean_text <-}\StringTok{ }\KeywordTok{gsub}\NormalTok{(}\DataTypeTok{pattern=}\NormalTok{superscript_numbers[}\DecValTok{1}\NormalTok{], }\DataTypeTok{replacement=}\NormalTok{superscript_numbers[}\DecValTok{2}\NormalTok{], }\DataTypeTok{x=}\NormalTok{clean_text, }\DataTypeTok{perl=}\OtherTok{TRUE}\NormalTok{)}
\NormalTok{  clean_text <-}\StringTok{ }\KeywordTok{gsub}\NormalTok{(}\DataTypeTok{pattern=}\NormalTok{epigraphic_symbols[}\DecValTok{1}\NormalTok{], }\DataTypeTok{replacement=}\NormalTok{epigraphic_symbols[}\DecValTok{2}\NormalTok{], }\DataTypeTok{x=}\NormalTok{clean_text, }\DataTypeTok{perl=}\OtherTok{TRUE}\NormalTok{)}
\NormalTok{  clean_text <-}\StringTok{ }\KeywordTok{gsub}\NormalTok{(}\DataTypeTok{pattern=}\NormalTok{uncertainty_symbols[}\DecValTok{1}\NormalTok{], }\DataTypeTok{replacement=}\NormalTok{uncertainty_symbols[}\DecValTok{2}\NormalTok{], }\DataTypeTok{x=}\NormalTok{clean_text, }\DataTypeTok{perl=}\OtherTok{TRUE}\NormalTok{)}
\NormalTok{  clean_text <-}\StringTok{ }\KeywordTok{gsub}\NormalTok{(}\DataTypeTok{pattern=}\NormalTok{uncertainty_symbols[}\DecValTok{1}\NormalTok{], }\DataTypeTok{replacement=}\NormalTok{uncertainty_symbols[}\DecValTok{2}\NormalTok{], }\DataTypeTok{x=}\NormalTok{clean_text, }\DataTypeTok{perl=}\OtherTok{TRUE}\NormalTok{)}
\NormalTok{  clean_text <-}\StringTok{ }\KeywordTok{gsub}\NormalTok{(}\DataTypeTok{pattern=}\NormalTok{end_line[}\DecValTok{1}\NormalTok{], }\DataTypeTok{replacement=}\NormalTok{end_line[}\DecValTok{2}\NormalTok{], }\DataTypeTok{x=}\NormalTok{clean_text, }\DataTypeTok{perl=}\OtherTok{TRUE}\NormalTok{)}
\NormalTok{  clean_text <-}\StringTok{ }\KeywordTok{gsub}\NormalTok{(}\DataTypeTok{pattern=}\NormalTok{extra_blank[}\DecValTok{1}\NormalTok{], }\DataTypeTok{replacement=}\NormalTok{extra_blank[}\DecValTok{2}\NormalTok{], }\DataTypeTok{x=}\NormalTok{clean_text, }\DataTypeTok{perl=}\OtherTok{TRUE}\NormalTok{)}
\NormalTok{  clean_text <-}\StringTok{ }\KeywordTok{gsub}\NormalTok{(}\DataTypeTok{pattern=}\NormalTok{arabic_numerals[}\DecValTok{1}\NormalTok{], }\DataTypeTok{replacement=}\NormalTok{arabic_numerals[}\DecValTok{2}\NormalTok{], }\DataTypeTok{x=}\NormalTok{clean_text, }\DataTypeTok{perl=}\OtherTok{TRUE}\NormalTok{)}
\NormalTok{  clean_text <-}\StringTok{ }\KeywordTok{gsub}\NormalTok{(}\DataTypeTok{pattern=}\NormalTok{unclosed_brackets[}\DecValTok{1}\NormalTok{], }\DataTypeTok{replacement=}\NormalTok{unclosed_brackets[}\DecValTok{2}\NormalTok{], }\DataTypeTok{x=}\NormalTok{clean_text, }\DataTypeTok{perl=}\OtherTok{TRUE}\NormalTok{)}
\NormalTok{  clean_text <-}\StringTok{ }\KeywordTok{gsub}\NormalTok{(}\DataTypeTok{pattern=}\NormalTok{multi_whitespace[}\DecValTok{1}\NormalTok{], }\DataTypeTok{replacement=}\NormalTok{multi_whitespace[}\DecValTok{2}\NormalTok{], }\DataTypeTok{x=}\NormalTok{clean_text, }\DataTypeTok{perl=}\OtherTok{TRUE}\NormalTok{)}
\NormalTok{  clean_text <-}\StringTok{ }\KeywordTok{gsub}\NormalTok{(}\DataTypeTok{pattern=}\NormalTok{whitespace_endline[}\DecValTok{1}\NormalTok{], }\DataTypeTok{replacement=}\NormalTok{whitespace_endline[}\DecValTok{2}\NormalTok{], }\DataTypeTok{x=}\NormalTok{clean_text, }\DataTypeTok{perl=}\OtherTok{TRUE}\NormalTok{)}
  \KeywordTok{return}\NormalTok{(clean_text)}
\NormalTok{\}}
\end{Highlighting}
\end{Shaded}

\hypertarget{example-of-conservative-cleaning-1}{%
\paragraph{Example of conservative
cleaning:}\label{example-of-conservative-cleaning-1}}

\texttt{Transcription} column of the first five inscriptions before
cleaning:

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{print}\NormalTok{(EDH_tibble}\OperatorTok{$}\NormalTok{transcription[}\DecValTok{1}\OperatorTok{:}\DecValTok{5}\NormalTok{])}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## Error in print(EDH_tibble$transcription[1:5]): object 'EDH_tibble' not found
\end{verbatim}

\texttt{Diplomatic\_text} column of the first five inscriptions (for
comparison with the cleaning output):

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{print}\NormalTok{(EDH_tibble}\OperatorTok{$}\NormalTok{diplomatic_text[}\DecValTok{1}\OperatorTok{:}\DecValTok{5}\NormalTok{])}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## Error in print(EDH_tibble$diplomatic_text[1:5]): object 'EDH_tibble' not found
\end{verbatim}

Output of the \texttt{cleaning\_conservative\_edh} function:

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{example_edh <-}\StringTok{ }\KeywordTok{as.data.frame}\NormalTok{(}\KeywordTok{cleaning_conservative_edh}\NormalTok{(EDH_tibble}\OperatorTok{$}\NormalTok{transcription))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## Error in gsub(pattern = dubious_dot_subscript[1], replacement = dubious_dot_subscript[2], : object 'EDH_tibble' not found
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{example_edh[}\DecValTok{1}\OperatorTok{:}\DecValTok{5}\NormalTok{,]}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## Error in eval(expr, envir, enclos): object 'example_edh' not found
\end{verbatim}

\hypertarget{interpretive-model-1}{%
\subsubsection{Interpretive model}\label{interpretive-model-1}}

\emph{Aim:} to have a clean text enriched by editorial interpretations
and reconstructions of the text (to have as rich text of an inscription
as possible).

Since the dataset is mostly in Latin, I did not use the following
cleaning scripts: \texttt{vacat}, \texttt{editorial\_notes},
\texttt{editorial\_comments\_latin} since they would eliminate some
parts of the text that should not be eliminated. I am not using the
\texttt{suppresion\_superscripts\_interpretive} script beacuse the
structure of the EDH dataset does not contain curly braces followed by
superscript numbers. The script \texttt{unclosed\_brackets} has been
added since EDH dataset contains a lot of unclosed brackets of all
kinds. Script \texttt{substitution\_edh\_interpretive} was added to
clean additional substitution features of the EDH dataset.

EDH has provided their own version of clean text in the column
\texttt{text\_cleaned} but did not provide any cleaning script or steps
leading to the current state of \texttt{text\_cleaned}. As a second step
I will compare the output of the \texttt{interpretive\_cleaning} model
with the \texttt{text\_cleaned} version to see who has produced better
text for text mining.

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{cleaning_interpretive_edh <-}\StringTok{ }\ControlFlowTok{function}\NormalTok{(epigraphic_dataset)\{}
\NormalTok{   clean_text <-}\StringTok{ }\KeywordTok{gsub}\NormalTok{(}\DataTypeTok{pattern=}\NormalTok{dubious_dot_subscript[}\DecValTok{1}\NormalTok{], }\DataTypeTok{replacement=}\NormalTok{dubious_dot_subscript[}\DecValTok{2}\NormalTok{], }\DataTypeTok{x=}\NormalTok{epigraphic_dataset, }\DataTypeTok{perl=}\OtherTok{TRUE}\NormalTok{)}
\NormalTok{   clean_text <-}\StringTok{ }\KeywordTok{gsub}\NormalTok{(}\DataTypeTok{pattern=}\NormalTok{lacuna1[}\DecValTok{1}\NormalTok{], }\DataTypeTok{replacement=}\NormalTok{lacuna1[}\DecValTok{2}\NormalTok{], }\DataTypeTok{x=}\NormalTok{clean_text, }\DataTypeTok{perl=}\OtherTok{TRUE}\NormalTok{)}
\NormalTok{   clean_text <-}\StringTok{ }\KeywordTok{gsub}\NormalTok{(}\DataTypeTok{pattern=}\NormalTok{lacuna2[}\DecValTok{1}\NormalTok{], }\DataTypeTok{replacement=}\NormalTok{lacuna2[}\DecValTok{2}\NormalTok{], }\DataTypeTok{x=}\NormalTok{clean_text, }\DataTypeTok{perl=}\OtherTok{TRUE}\NormalTok{)}
\NormalTok{   clean_text <-}\StringTok{ }\KeywordTok{gsub}\NormalTok{(}\DataTypeTok{pattern=}\NormalTok{expanded_abbreviations_interpretive[}\DecValTok{1}\NormalTok{], }\DataTypeTok{replacement=}\NormalTok{expanded_abbreviations_interpretive[}\DecValTok{2}\NormalTok{], }\DataTypeTok{x=}\NormalTok{clean_text, }\DataTypeTok{perl=}\OtherTok{TRUE}\NormalTok{)}
\NormalTok{   clean_text <-}\StringTok{ }\KeywordTok{gsub}\NormalTok{(}\DataTypeTok{pattern=}\NormalTok{suppresion_keep_interpretive[}\DecValTok{1}\NormalTok{], }\DataTypeTok{replacement=}\NormalTok{suppresion_keep_interpretive[}\DecValTok{2}\NormalTok{], }\DataTypeTok{x=}\NormalTok{clean_text, }\DataTypeTok{perl=}\OtherTok{TRUE}\NormalTok{)}
\NormalTok{   clean_text <-}\StringTok{ }\KeywordTok{gsub}\NormalTok{(}\DataTypeTok{pattern=}\NormalTok{restoration_interpretive[}\DecValTok{1}\NormalTok{], }\DataTypeTok{replacement=}\NormalTok{restoration_interpretive[}\DecValTok{2}\NormalTok{], }\DataTypeTok{x=}\NormalTok{clean_text, }\DataTypeTok{perl=}\OtherTok{TRUE}\NormalTok{)}
\NormalTok{   clean_text <-}\StringTok{ }\KeywordTok{gsub}\NormalTok{(}\DataTypeTok{pattern=}\NormalTok{substitution_edh_interpretive[}\DecValTok{1}\NormalTok{], }\DataTypeTok{replacement=}\NormalTok{substitution_edh_interpretive[}\DecValTok{2}\NormalTok{], }\DataTypeTok{x=}\NormalTok{clean_text, }\DataTypeTok{perl=}\OtherTok{TRUE}\NormalTok{)}
\NormalTok{   clean_text <-}\StringTok{ }\KeywordTok{gsub}\NormalTok{(}\DataTypeTok{pattern=}\NormalTok{substitution_interpretive[}\DecValTok{1}\NormalTok{], }\DataTypeTok{replacement=}\NormalTok{substitution_interpretive[}\DecValTok{2}\NormalTok{], }\DataTypeTok{x=}\NormalTok{clean_text, }\DataTypeTok{perl=}\OtherTok{TRUE}\NormalTok{)}
\NormalTok{   clean_text <-}\StringTok{ }\KeywordTok{gsub}\NormalTok{(}\DataTypeTok{pattern=}\NormalTok{new_line[}\DecValTok{1}\NormalTok{], }\DataTypeTok{replacement=}\NormalTok{new_line[}\DecValTok{2}\NormalTok{], }\DataTypeTok{x=}\NormalTok{clean_text, }\DataTypeTok{perl=}\OtherTok{TRUE}\NormalTok{)}
\NormalTok{   clean_text <-}\StringTok{ }\KeywordTok{gsub}\NormalTok{(}\DataTypeTok{pattern=}\NormalTok{split_word_multiline[}\DecValTok{1}\NormalTok{], }\DataTypeTok{replacement=}\NormalTok{split_word_multiline[}\DecValTok{2}\NormalTok{], }\DataTypeTok{x=}\NormalTok{clean_text, }\DataTypeTok{perl=}\OtherTok{TRUE}\NormalTok{)}
\NormalTok{   clean_text <-}\StringTok{ }\KeywordTok{gsub}\NormalTok{(}\DataTypeTok{pattern=}\NormalTok{erasure_empty[}\DecValTok{1}\NormalTok{], }\DataTypeTok{replacement=}\NormalTok{erasure_empty[}\DecValTok{2}\NormalTok{], }\DataTypeTok{x=}\NormalTok{clean_text, }\DataTypeTok{perl=}\OtherTok{TRUE}\NormalTok{)}
\NormalTok{   clean_text <-}\StringTok{ }\KeywordTok{gsub}\NormalTok{(}\DataTypeTok{pattern=}\NormalTok{erasure_new_text[}\DecValTok{1}\NormalTok{], }\DataTypeTok{replacement=}\NormalTok{erasure_new_text[}\DecValTok{2}\NormalTok{], }\DataTypeTok{x=}\NormalTok{clean_text, }\DataTypeTok{perl=}\OtherTok{TRUE}\NormalTok{)}
\NormalTok{   clean_text <-}\StringTok{ }\KeywordTok{gsub}\NormalTok{(}\DataTypeTok{pattern=}\NormalTok{interpunction_symbols[}\DecValTok{1}\NormalTok{], }\DataTypeTok{replacement=}\NormalTok{interpunction_symbols[}\DecValTok{2}\NormalTok{], }\DataTypeTok{x=}\NormalTok{clean_text, }\DataTypeTok{perl=}\OtherTok{TRUE}\NormalTok{)}
\NormalTok{   clean_text <-}\StringTok{ }\KeywordTok{gsub}\NormalTok{(}\DataTypeTok{pattern=}\NormalTok{superscript_numbers[}\DecValTok{1}\NormalTok{], }\DataTypeTok{replacement=}\NormalTok{superscript_numbers[}\DecValTok{2}\NormalTok{], }\DataTypeTok{x=}\NormalTok{clean_text, }\DataTypeTok{perl=}\OtherTok{TRUE}\NormalTok{)}
\NormalTok{   clean_text <-}\StringTok{ }\KeywordTok{gsub}\NormalTok{(}\DataTypeTok{pattern=}\NormalTok{epigraphic_symbols[}\DecValTok{1}\NormalTok{], }\DataTypeTok{replacement=}\NormalTok{epigraphic_symbols[}\DecValTok{2}\NormalTok{], }\DataTypeTok{x=}\NormalTok{clean_text, }\DataTypeTok{perl=}\OtherTok{TRUE}\NormalTok{)}
\NormalTok{   clean_text <-}\StringTok{ }\KeywordTok{gsub}\NormalTok{(}\DataTypeTok{pattern=}\NormalTok{uncertainty_symbols[}\DecValTok{1}\NormalTok{], }\DataTypeTok{replacement=}\NormalTok{uncertainty_symbols[}\DecValTok{2}\NormalTok{], }\DataTypeTok{x=}\NormalTok{clean_text, }\DataTypeTok{perl=}\OtherTok{TRUE}\NormalTok{)}
\NormalTok{   clean_text <-}\StringTok{ }\KeywordTok{gsub}\NormalTok{(}\DataTypeTok{pattern=}\NormalTok{end_line[}\DecValTok{1}\NormalTok{], }\DataTypeTok{replacement=}\NormalTok{end_line[}\DecValTok{2}\NormalTok{], }\DataTypeTok{x=}\NormalTok{clean_text, }\DataTypeTok{perl=}\OtherTok{TRUE}\NormalTok{)}
\NormalTok{   clean_text <-}\StringTok{ }\KeywordTok{gsub}\NormalTok{(}\DataTypeTok{pattern=}\NormalTok{extra_blank[}\DecValTok{1}\NormalTok{], }\DataTypeTok{replacement=}\NormalTok{extra_blank[}\DecValTok{2}\NormalTok{], }\DataTypeTok{x=}\NormalTok{clean_text, }\DataTypeTok{perl=}\OtherTok{TRUE}\NormalTok{)}
\NormalTok{   clean_text <-}\StringTok{ }\KeywordTok{gsub}\NormalTok{(}\DataTypeTok{pattern=}\NormalTok{arabic_numerals[}\DecValTok{1}\NormalTok{], }\DataTypeTok{replacement=}\NormalTok{arabic_numerals[}\DecValTok{2}\NormalTok{], }\DataTypeTok{x=}\NormalTok{clean_text, }\DataTypeTok{perl=}\OtherTok{TRUE}\NormalTok{)}
\NormalTok{   clean_text <-}\StringTok{ }\KeywordTok{gsub}\NormalTok{(}\DataTypeTok{pattern=}\NormalTok{multi_whitespace[}\DecValTok{1}\NormalTok{], }\DataTypeTok{replacement=}\NormalTok{multi_whitespace[}\DecValTok{2}\NormalTok{], }\DataTypeTok{x=}\NormalTok{clean_text, }\DataTypeTok{perl=}\OtherTok{TRUE}\NormalTok{)}
\NormalTok{   clean_text <-}\StringTok{ }\KeywordTok{gsub}\NormalTok{(}\DataTypeTok{pattern=}\NormalTok{whitespace_endline[}\DecValTok{1}\NormalTok{], }\DataTypeTok{replacement=}\NormalTok{whitespace_endline[}\DecValTok{2}\NormalTok{], }\DataTypeTok{x=}\NormalTok{clean_text, }\DataTypeTok{perl=}\OtherTok{TRUE}\NormalTok{)}
      \KeywordTok{return}\NormalTok{(clean_text)}
\NormalTok{\}}
\end{Highlighting}
\end{Shaded}

\texttt{Transcription} column of the first five inscriptions before
cleaning:

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{print}\NormalTok{(EDH_tibble}\OperatorTok{$}\NormalTok{transcription[}\DecValTok{1}\OperatorTok{:}\DecValTok{5}\NormalTok{])}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## Error in print(EDH_tibble$transcription[1:5]): object 'EDH_tibble' not found
\end{verbatim}

\texttt{Text\_cleaned} column, provided by EDH as a clean version of the
text, for comparison with the output of the
\texttt{cleaning\_intepretive\_edh} function:

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{print}\NormalTok{(EDH_tibble}\OperatorTok{$}\NormalTok{text_cleaned[}\DecValTok{1}\OperatorTok{:}\DecValTok{5}\NormalTok{])}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## Error in print(EDH_tibble$text_cleaned[1:5]): object 'EDH_tibble' not found
\end{verbatim}

Output of the \texttt{cleaning\_interpretive\_edh} function:

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{example_edh2 <-}\StringTok{ }\KeywordTok{as.data.frame}\NormalTok{(}\KeywordTok{cleaning_interpretive_edh}\NormalTok{(EDH_tibble}\OperatorTok{$}\NormalTok{transcription))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## Error in gsub(pattern = dubious_dot_subscript[1], replacement = dubious_dot_subscript[2], : object 'EDH_tibble' not found
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{example_edh2[}\DecValTok{1}\OperatorTok{:}\DecValTok{5}\NormalTok{,]}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## Error in eval(expr, envir, enclos): object 'example_edh2' not found
\end{verbatim}

\hypertarget{enriching-the-full-dataset-with-conservative-and-interpretive-cleaned-versions-of-the-text}{%
\subsubsection{Enriching the full dataset with conservative and
interpretive cleaned versions of the
text:}\label{enriching-the-full-dataset-with-conservative-and-interpretive-cleaned-versions-of-the-text}}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{EDH_df_clean <-}\StringTok{ }\KeywordTok{as.data.frame}\NormalTok{(EDH_tibble) }\OperatorTok{%>%}
\StringTok{  }\KeywordTok{mutate}\NormalTok{(}\DataTypeTok{clean_text_conservative =} \KeywordTok{cleaning_conservative_edh}\NormalTok{(EDH_tibble}\OperatorTok{$}\NormalTok{transcription)) }\OperatorTok{%>%}
\StringTok{  }\KeywordTok{mutate}\NormalTok{(}\DataTypeTok{clean_text_interpretive =} \KeywordTok{cleaning_interpretive_edh}\NormalTok{(EDH_tibble}\OperatorTok{$}\NormalTok{transcription))  }
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## Error in as.data.frame(EDH_tibble): object 'EDH_tibble' not found
\end{verbatim}

\begin{center}\rule{0.5\linewidth}{0.5pt}\end{center}

\hypertarget{selecting-a-smaller-segment-for-testing}{%
\subsubsection{Selecting a smaller segment for
testing}\label{selecting-a-smaller-segment-for-testing}}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{Thracia <-}\StringTok{ }\NormalTok{EDH_df_clean}\OperatorTok{%>%}
\StringTok{  }\KeywordTok{filter}\NormalTok{(province_label }\OperatorTok{==}\StringTok{ "Thracia"}\OperatorTok{|}\StringTok{ }\NormalTok{province_label }\OperatorTok{==}\StringTok{ "Thracia?"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## Error in eval(lhs, parent, parent): object 'EDH_df_clean' not found
\end{verbatim}

\hypertarget{comparing-new-cleaned-text-original-transcription-and-the-edh-cleaned-text-for-quality-of-cleaning}{%
\paragraph{Comparing new cleaned text, original transcription and the
EDH cleaned text for quality of
cleaning}\label{comparing-new-cleaned-text-original-transcription-and-the-edh-cleaned-text-for-quality-of-cleaning}}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{number <-}\StringTok{ }\DecValTok{24}
\KeywordTok{print}\NormalTok{(Thracia}\OperatorTok{$}\NormalTok{clean_text_interpretive[number]) }\CommentTok{# output of cleaning_interpretive function}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## Error in print(Thracia$clean_text_interpretive[number]): object 'Thracia' not found
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{print}\NormalTok{(Thracia}\OperatorTok{$}\NormalTok{transcription[number])           }\CommentTok{# original text to be cleaned  }
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## Error in print(Thracia$transcription[number]): object 'Thracia' not found
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{print}\NormalTok{(Thracia}\OperatorTok{$}\NormalTok{text_cleaned[number])            }\CommentTok{# text_cleaned provided by EDH}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## Error in print(Thracia$text_cleaned[number]): object 'Thracia' not found
\end{verbatim}

\hypertarget{saving-as-json-to-local-space}{%
\subsection{Saving as JSON to local
space}\label{saving-as-json-to-local-space}}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{Thracia_json <-}\StringTok{ }\KeywordTok{toJSON}\NormalTok{(Thracia)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## Error in toJSON(Thracia): object 'Thracia' not found
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{#write(Thracia_json, "../../outputs/EDH_Thracia.json")}
\end{Highlighting}
\end{Shaded}

\hypertarget{writing-as-json-to-sciencedata.dk---to-be-implemented}{%
\subsection{Writing as JSON to Sciencedata.dk - to be
implemented}\label{writing-as-json-to-sciencedata.dk---to-be-implemented}}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{EDH_clean_text_json <-}\StringTok{ }\KeywordTok{toJSON}\NormalTok{(EDH_df_clean)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## Error in toJSON(EDH_df_clean): object 'EDH_df_clean' not found
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{write}\NormalTok{(EDH_clean_text_json, }\DataTypeTok{file=}\StringTok{"EDH_clean_text_sample.json"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## Error in cat(x, file = file, sep = c(rep.int(sep, ncolumns - 1), "\n"), : object 'EDH_clean_text_json' not found
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{user <-}\StringTok{ }\KeywordTok{readline}\NormalTok{(}\StringTok{"your sciencedata username: "}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## your sciencedata username:
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{request}\NormalTok{(}\StringTok{"EDH_clean_text_sample.json"}\NormalTok{, }\DataTypeTok{path=}\StringTok{"/sharingout/648597@au.dk/SDAM_root/SDAM_data/EDH/"}\NormalTok{, }
        \DataTypeTok{method=}\StringTok{"PUT"}\NormalTok{, }\DataTypeTok{cred=}\KeywordTok{c}\NormalTok{(user, }\KeywordTok{getPass}\NormalTok{(}\StringTok{"your sciencedata password: "}\NormalTok{))) }
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## Please enter password in TK window (Alt+Tab)
\end{verbatim}

\begin{verbatim}
## Response [https://sciencedata.dk/sharingout/648597@au.dk/SDAM_root/SDAM_data/EDH//EDH_clean_text_sample.json]
##   Date: 2020-05-13 09:49
##   Status: 401
##   Content-Type: text/html; charset=UTF-8
## <EMPTY BODY>
\end{verbatim}

\end{document}
